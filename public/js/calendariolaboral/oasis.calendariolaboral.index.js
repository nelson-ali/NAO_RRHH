function OperaEvento(a){("keyup"==a.type||"keydown"==a.type)&&a.which}$().ready(function(){listarTiposHorarios(0);var a=new Date,r=a.getDate(),o=a.getMonth(),e=a.getFullYear(),i=[];$("#calendar").html(""),iniciarCalendarioLaboralPorTipoHorario(5,$("#lstTiposDeHorario").val(),i,e,o,r),$("#lstTiposDeHorario").off(),$("#lstTiposDeHorario").on("change",function(){i=[],$("#calendar").html(""),0<$("#lstTiposDeHorario").val()?i=obtenerTodosHorariosRegistradosEnCalendarioPorTipoHorario($("#lstTiposDeHorario").val(),!1,"",""):$("#lstPerfilesLaboralesDisponibles").jqxListBox("render"),iniciarCalendarioLaboralPorTipoHorario(5,$("#lstTiposDeHorario").val(),i,e,o,r),cargarPerfilesLaboralesDisponiblesPorTipoHorario($("#lstTiposDeHorario").val(),"","",e,o,r)}),$("#divMsjeNotificacionError").jqxNotification({width:"100%",position:"bottom-right",opacity:.9,autoOpen:!1,animationOpenDelay:800,autoClose:!0,autoCloseDelay:7e3,template:"error"}),$("#divMsjeNotificacionWarning").jqxNotification({width:"100%",position:"bottom-right",opacity:.9,autoOpen:!1,animationOpenDelay:800,autoClose:!0,autoCloseDelay:7e3,template:"warning"}),$("#divMsjeNotificacionSuccess").jqxNotification({width:"100%",position:"bottom-right",opacity:.9,autoOpen:!1,animationOpenDelay:800,autoClose:!0,autoCloseDelay:7e3,template:"success"}),$("#btnImprimirCalendario").on("click",function(){$("#page-content").printArea({mode:"popup",popClose:!1})}),$(".numeral").keyup(function(a){""!=$(this).val()&&$(this).val($(this).val().replace(/[^0-9]/g,""))}),$(".literal").keyup(function(a){""!=$(this).val()&&$(this).val($(this).val().replace(/[^A-Z,a-z,ñ,Ñ, ]/g,""))}),$(document).keypress(OperaEvento),$(document).keyup(OperaEvento)});var initEvents=function(){$(".calendar-events").find("li").each(function(){var a={title:$.trim($(this).text()),color:$(this).css("background-color")};$(this).data("eventObject",a),$(this).draggable({zIndex:999,revert:!0,revertDuration:0})})};function cargarHorariosRegistradosEnCalendario(){var b=[],a=new Date;a.getDate(),a.getMonth(),a.getFullYear();return $.ajax({url:"/calendariolaboral/gethorariosregistrados",type:"POST",datatype:"json",async:!1,cache:!1,success:function(a){var r=jQuery.parseJSON(a);0<r.length&&$.each(r,function(a,r){var o=r.fecha_ini.split("-"),e=o[0],i=o[1],t=o[2],l=r.hora_entrada.split(":"),n=l[0],s=l[1],c=(l[2],r.fecha_fin.split("-")),d=c[0],h=c[1],p=c[2],u=r.hora_entrada.split(":"),$=u[0],m=u[1];u[2];b.push({id:r.id_horariolaboral,title:r.nombre,start:new Date(e,i,t,n,s),end:new Date(d,h,p,$,m),allDay:!0,color:r.color})})}}),b}function cargarHorariosRegistradosParaModificar(a){$("#ulHorariosEnEspera").html(""),0<a.length&&$.each(a,function(a,r){$("#txtNombreHorario");var o,e=r.color;o=r.title,$(".calendar-events").append('<li style="background-color: '+e+'" class="ui-draggable">'+$("<div />").text(o).html()+"</li>"),initEvents()})}function validaFormularioHorario(){var a=!0,r="";$(".msjs-alert").hide(),limpiarMensajesErrorPorValidacionHorario();var o=null,e=$("#txtNombreHorario").val(),i=($("#txtNombreAlternativoHorario").val(),$("#txtColorHorario").val()),t=$("#txtHoraEntHorario").val(),l=$("#txtHoraSalHorario").val(),n=$("#txtMinutosToleranciaAcu").val(),s=$("#txtMinutosToleranciaEnt").val(),c=$("#txtMinutosToleranciaSal").val(),d=$("#txtHoraInicioRangoEnt").val(),h=$("#txtHoraFinalizacionRangoEnt").val(),p=$("#txtHoraInicioRangoSal").val(),u=$("#txtHoraFinalizacionRangoSal").val();if(""==e){a=!1;r="Debe introducir un nombre para el horario necesariamente.";$("#divNombreHorario").addClass("has-error"),$("#helpErrorNombreHorario").html(r),null==o&&(o=$("#txtNombreHorario"))}if(""==i){a=!1;r="Debe seleccionar un color para el horario necesariamente.";$("#divColorHorario").addClass("has-error"),$("#helpErrorColorHorario").html(r),null==o&&(o=$("#txtColorHorario"))}if("#FFFFFF"==i){a=!1;r="Seleccion&oacute; el color blanco para el horario, debe seleccionar un color diferente necesariamente.";$("#divColorHorario").addClass("has-error"),$("#helpErrorColorHorario").html(r),null==o&&(o=$("#txtColorHorario"))}if(""==t){a=!1;r="Debe seleccionar una hora de entrada necesariamente.";$("#divHoraEntHorario").addClass("has-error"),$("#helpErrorHoraEntHorario").html(r),null==o&&(o=$("#txtHoraEntHorario"))}if(""==l){a=!1;r="Debe seleccionar una hora de salida necesariamente.";$("#divHoraSalHorario").addClass("has-error"),$("#helpErrorHoraSalHorario").html(r),null==o&&(o=$("#txtHoraSalHorario"))}if(""==n){a=!1;r="Debe introducir los minutos de tolerancia acumulable necesariamente.";$("#divMinutosToleranciaAcu").addClass("has-error"),$("#helpErrorMinutosToleranciaAcu").html(r),null==o&&(o=$("#txtMinutosToleranciaAcu"))}if(""==s){a=!1;r="Debe introducir los minutos de tolerancia en la entrada del horario necesariamente.";$("#divMinutosToleranciaEnt").addClass("has-error"),$("#helpErrorMinutosToleranciaEnt").html(r),null==o&&(o=$("#txtMinutosToleranciaEnt"))}if(""==c){a=!1;r="Debe introducir los minutos de tolerancia en la salida del horario necesariamente.";$("#divMinutosToleranciaSal").addClass("has-error"),$("#helpErrorMinutosToleranciaSal").html(r),null==o&&(o=$("#txtMinutosToleranciaSal"))}if(""==d){a=!1;r="Debe introducir la hora de inicio del rango de marcaci&oacute;n para la entrada.";$("#divHoraInicioRangoEnt").addClass("has-error"),$("#helpErrorHoraInicioRangoEnt").html(r),null==o&&(o=$("#txtHoraInicioRangoEnt"))}if(""==h){a=!1;r="Debe introducir la hora de finalizaci&oacute;n del rango de marcaci&oacute;n para la entrada.";$("#divHoraFinalizacionRangoEnt").addClass("has-error"),$("#helpErrorHoraFinalizacionRangoEnt").html(r),null==o&&(o=$("#txtHoraFinalizacionRangoEnt"))}if(""==p){a=!1;r="Debe introducir la hora de inicio del rango de marcaci&oacute;n para la salida.";$("#divHoraInicioRangoSal").addClass("has-error"),$("#helpErrorHoraInicioRangoSal").html(r),null==o&&(o=$("#txtHoraInicioRangoSal"))}if(""==u){a=!1;r="Debe introducir la hora de finalizaci&oacute;n del rango de marcaci&oacute;n para la salida.";$("#divHoraFinalizacionRangoSal").addClass("has-error"),$("#helpErrorHoraFinalizacionRangoSal").html(r),null==o&&(o=$("#txtHoraFinalizacionRangoSal"))}return null!=o&&o.focus(),a}function limpiarMensajesErrorPorValidacionHorario(){$("#divNombreHorario").removeClass("has-error"),$("#helpErrorNombreHorario").html(""),$("#divColorHorario").removeClass("has-error"),$("#helpErrorColorHorario").html(""),$("#divHoraEntHorario").removeClass("has-error"),$("#helpErrorHoraEntHorario").html(""),$("#divHoraSalHorario").removeClass("has-error"),$("#helpErrorHoraSalHorario").html(""),$("#divMinutosToleranciaAcu").removeClass("has-error"),$("#helpErrorMinutosToleranciaAcu").html(""),$("#divMinutosToleranciaEnt").removeClass("has-error"),$("#helpErrorMinutosToleranciaEnt").html(""),$("#divMinutosToleranciaSal").removeClass("has-error"),$("#helpErrorMinutosToleranciaSal").html(""),$("#divHoraInicioRangoEnt").removeClass("has-error"),$("#helpErrorHoraInicioRangoEnt").html(""),$("#divHoraFinalizacionRangoEnt").removeClass("has-error"),$("#helpErrorHoraFinalizacionRangoEnt").html(""),$("#divHoraInicioRangoSal").removeClass("has-error"),$("#helpErrorHoraInicioRangoSal").html(""),$("#divHoraFinalizacionRangoSal").removeClass("has-error"),$("#helpErrorHoraFinalizacionRangoSal").html("")}function listarTiposHorarios(o){$.ajax({url:"/perfileslaborales/listtiposhorarios",type:"POST",datatype:"json",async:!1,success:function(a){var r=jQuery.parseJSON(a);0<r.length&&($("#lstTiposDeHorario").html(""),$("#lstTiposDeHorario").prop("disabled",!1),$("#lstTiposDeHorario").append("<option value='0'>Seleccionar...</option>"),0<r.length?$.each(r,function(a,r){o==r.tipo_horario?selected="selected":selected="",$("#lstTiposDeHorario").append("<option value="+r.tipo_horario+" "+selected+">"+r.tipo_horario_descripcion+"</option>")}):$("#lstTiposDeHorario").prop("disabled","disabled"))}})}function iniciarCalendarioLaboralPorTipoHorario(a,r,o,e,i,t){r=parseInt(r);var l=[],n=($(".calendar-events"),"prev,next"),s="year,month,agendaWeek,agendaDay",c=!0,d=!0,h=!0,p=!0;switch(a){case 1:case 2:case 3:switch(r){case 1:case 2:break;case 3:n="",s="year"}break;case 4:break;case 5:h=d=c=!1}switch(r){case 1:case 2:p=!1,!5}return $("#calendar").fullCalendar({header:{left:n,center:"title",right:s},year:e,month:i,date:t,firstDay:1,weekends:p,editable:c,droppable:d,selectable:h,timeFormat:"H(:mm)",drop:function(a,r){var o=$(this).data("eventObject"),e=$.extend({},o);e.start=a,$("#calendar").fullCalendar("renderEvent",e,!0)},eventDrop:function(a,r,o,e,i){},events:o,eventClick:function(i,a,r){var t=i.className+"",o=t.split("_"),e=o[1];t=o[0];var l=0;null!=i.id&&(l=i.id);var n=fechaConvertirAFormato(i.start,"-"),s=n,c=i.start;null!=i.end&&""!=i.end&&(s=fechaConvertirAFormato(i.end,"-"),c=i.end);var d=i.start,h=c,p=c;($("#txtHorarioFechaIni").datepicker("setDate",i.start),$("#txtHorarioFechaFin").datepicker("setDate",c),$("#txtHorarioFechaIni").datepicker({format:"dd-mm-yyyy",default:i.start,weekStart:1,startDate:d,endDate:h,autoclose:!0}).on("changeDate",function(a){(d=new Date(a.date.valueOf())).setDate(d.getDate(new Date(a.date.valueOf()))),$("#txtHorarioFechaFin").datepicker("setStartDate",d)}),$("#txtHorarioFechaFin").datepicker({default:c,weekStart:1,startDate:d,endDate:p,autoclose:!0}).on("changeDate",function(a){(h=new Date(a.date.valueOf())).setDate(h.getDate(new Date(a.date.valueOf()))),$("#txtHorarioFechaIni").datepicker("setEndDate",h)}),0<e)?cargarModalHorario(e)?("b"==t?($("#btnDescartarHorario").hide(),$("#btnGuardarModificacionHorario").hide(),$("#txtHorarioFechaIni").prop("disabled","disabled"),$("#txtHorarioFechaFin").prop("disabled","disabled")):($("#btnDescartarHorario").show(),$("#txtHorarioFechaIni").prop("disabled",!1),$("#txtHorarioFechaFin").prop("disabled",!1)),$("#popupDescripcionHorario").modal("show"),$("#btnDescartarHorario").off(),$("#btnDescartarHorario").on("click",function(){switch(t){case"r":case"d":bajaTurnoEnCalendario(l)&&($("#calendar").fullCalendar("removeEvents",i._id),$("#popupDescripcionHorario").modal("hide"));break;case"n":$("#calendar").fullCalendar("removeEvents",i._id),$("#popupDescripcionHorario").modal("hide")}}),$("#btnGuardarModificacionHorario").off(),$("#btnGuardarModificacionHorario").on("click",function(){switch(t){case"r":case"n":if(n!=$("#txtHorarioFechaIni").val()||s!=$("#txtHorarioFechaFin").val()){$("#calendar").fullCalendar("removeEvents",i._id),$("#popupDescripcionHorario").modal("hide");var a=$("#txtHorarioFechaIni").val(),r=$("#txtHorarioFechaFin").val(),o=a.split("-"),e=r.split("-");a=o[2]+"-"+o[1]+"-"+o[0],r=e[2]+"-"+e[1]+"-"+e[0],addEvent={id:i.id,title:i.title,className:i.className,start:a,end:r,color:i.color,editable:!0,hora_entrada:i.hora_entrada,hora_salida:i.hora_salida},$("#calendar").fullCalendar("renderEvent",addEvent,!0)}$("#popupDescripcionHorario").modal("hide")}})):alert("Error al determinar los datos del horario."):alert("El registro corresponde a un periodo de descanso")},eventResize:function(a,r,o){sumarTotalHorasPorSemana(l)},viewRender:function(a){if("month"==a.name){$("#divSumatorias").show(),l=[];var t=0;$.each(["mon","tue","wed","thu","fri","sat","sun"],function(a,r){t=0,$("td.fc-"+r).map(function(a,r){t++;var o=$(this).data("date"),e=$(this).data("date");if(null!=o){var i=o.split("-");switch(o=i[2]+"-"+i[1]+"-"+i[0],t){case 1:l.push({semana:1,fecha:o});break;case 2:l.push({semana:2,fecha:o});break;case 3:l.push({semana:3,fecha:o});break;case 4:l.push({semana:4,fecha:o});break;case 5:l.push({semana:5,fecha:o});break;case 6:l.push({semana:6,fecha:o})}e<$.fullCalendar.formatDate(new Date,"yyyy-MM-dd")&&$(this).css("background-color","#efefef")}})})}else $("#divSumatorias").hide()}}),l}initEvents=function(){$(".calendar-events").find("li").each(function(){var a=$(this).data("horas_laborales"),r=$(this).data("dias_laborales"),o=$(this).data("hora_entrada"),e=$(this).data("hora_salida"),i={className:"n_"+this.id,title:$.trim($(this).text()),color:$(this).css("background-color"),horas_laborales:a,dias_laborales:r,hora_entrada:o,hora_salida:e};$(this).data("eventObject",i),$(this).draggable({zIndex:999,revert:!0,revertDuration:0})})};function obtenerTodosHorariosRegistradosEnCalendarioPorPerfil(a,r,S,o,e,D){var F=[],i=new Date,E=(i.getDate(),i.getMonth(),i.getFullYear(),!0),T=["#9b59b6","#1abc9c","#f39c12","#d35400","#3498db","#e74c3c","#9b59b6","#cc80b3","#b3408c","#b34040","#bfd9d9","#2020a6","#a6a620","#e74c3c","#e74c3c","#cc80b3"];switch(r){case 1:case 2:E=!0}return $.ajax({url:"/calendariolaboral/listregistered",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:a,fecha_ini:o,fecha_fin:e},success:function(a){var r=jQuery.parseJSON(a);0<r.length&&$.each(r,function(a,r){var o=0,e="00:00:00",i="24:00:00",t="#000000",l="DESCANSO",n=r.perfil_laboral,s=r.perfil_laboral_grupo;""!=s&&(n+=" - "+s),null!=r.id_horariolaboral?(o=r.id_horariolaboral,""!=r.grupo&&(l=r.horario_nombre+" ("+n+")"),e=r.hora_entrada.split(":"),i=r.hora_salida.split(":"),t=r.color):(e=e.split(":"),i=i.split(":")),t=T[D];var c=r.calendario_fecha_ini.split("-"),d=c[0],h=c[1]-1,p=c[2],u=e[0],$=e[1],m=(e[2],r.calendario_fecha_fin.split("-")),b=m[0],f=m[1]-1,v=m[2],H=i[0],_=i[1],g=(i[2],"r_");0==o&&(g="d_");var x=t;S||(x="#000000",g="b_"),F.push({id:r.id_calendariolaboral,className:g+o,title:l,start:new Date(d,h,p,u,$),end:new Date(b,f,v,H,_),allDay:E,color:t,editable:S,borderColor:x,horas_laborales:r.horas_laborales,dias_laborales:r.dias_laborales,hora_entrada:r.hora_entrada,hora_salida:r.hora_salida})})}}),F}function obtenerTodosHorariosRegistradosEnCalendarioPorTipoHorario(a,S,r,o){var D=[],e=new Date;e.getDate(),e.getMonth(),e.getFullYear();return $.ajax({url:"/calendariolaboral/listregisteredportipohorario",type:"POST",datatype:"json",async:!1,cache:!1,data:{tipo_horario:a,fecha_ini:r,fecha_fin:o},success:function(a){var r=jQuery.parseJSON(a);0<r.length&&$.each(r,function(a,r){var o=0,e="00:00:00",i="24:00:00",t="#000000",l="DESCANSO",n=r.perfil_laboral,s=r.perfil_laboral_grupo;""!=s&&(n+=" - "+s),null!=r.id_horariolaboral?(o=r.id_horariolaboral,""!=r.grupo&&(l=r.horario_nombre+" ("+n+")"),e=r.hora_entrada.split(":"),i=r.hora_salida.split(":"),t=r.color):(e=e.split(":"),i=i.split(":"));var c=r.calendario_fecha_ini.split("-"),d=c[0],h=c[1]-1,p=c[2],u=e[0],$=e[1],m=(e[2],r.calendario_fecha_fin.split("-")),b=m[0],f=m[1]-1,v=m[2],H=i[0],_=i[1],g=(i[2],"r_");0==o&&(g="d_");var x=t;S||(x="#000000",g="b_"),D.push({id:r.id_calendariolaboral,className:g+o,title:l,start:new Date(d,h,p,u,$),end:new Date(b,f,v,H,_),allDay:!0,color:t,editable:S,borderColor:x,horas_laborales:r.horas_laborales,dias_laborales:r.dias_laborales,hora_entrada:r.hora_entrada,hora_salida:r.hora_salida})})}}),D}function sumarTotalHorasPorSemana(r){var a=$("#calendar").fullCalendar("clientEvents"),l=0,n=0,s=0,c=0,d=0,h=0;$("#spSumaSemana1").html(0),$("#spSumaSemana2").html(0),$("#spSumaSemana3").html(0),$("#spSumaSemana4").html(0),$("#spSumaSemana5").html(0),$("#spSumaSemana6").html(0),$("#tdSumaSemana1").css("background-color","white"),$("#tdSumaSemana2").css("background-color","white"),$("#tdSumaSemana3").css("background-color","white"),$("#tdSumaSemana4").css("background-color","white"),$("#tdSumaSemana5").css("background-color","white"),$("#tdSumaSemana6").css("background-color","white"),$.each(a,function(a,o){var e=$.fullCalendar.formatDate(o.start,"dd-MM-yyyy"),i=$.fullCalendar.formatDate(o.end,"dd-MM-yyyy");""==i&&(i=e);var t="-";$.each(r,function(a,r){1==r.semana&&procesaTextoAFecha(e,t)<=procesaTextoAFecha(r.fecha,t)&&procesaTextoAFecha(r.fecha,t)<=procesaTextoAFecha(i,t)&&(l+=parseFloat(o.horas_laborales)),2==r.semana&&procesaTextoAFecha(e,t)<=procesaTextoAFecha(r.fecha,t)&&procesaTextoAFecha(r.fecha,t)<=procesaTextoAFecha(i,t)&&(n+=parseFloat(o.horas_laborales)),3==r.semana&&procesaTextoAFecha(e,t)<=procesaTextoAFecha(r.fecha,t)&&procesaTextoAFecha(r.fecha,t)<=procesaTextoAFecha(i,t)&&(s+=parseFloat(o.horas_laborales)),4==r.semana&&procesaTextoAFecha(e,t)<=procesaTextoAFecha(r.fecha,t)&&procesaTextoAFecha(r.fecha,t)<=procesaTextoAFecha(i,t)&&(c+=parseFloat(o.horas_laborales)),5==r.semana&&procesaTextoAFecha(e,t)<=procesaTextoAFecha(r.fecha,t)&&procesaTextoAFecha(r.fecha,t)<=procesaTextoAFecha(i,t)&&(d+=parseFloat(o.horas_laborales)),6==r.semana&&procesaTextoAFecha(e,t)<=procesaTextoAFecha(r.fecha,t)&&procesaTextoAFecha(r.fecha,t)<=procesaTextoAFecha(i,t)&&(h+=parseFloat(o.horas_laborales))})}),$("#spSumaSemana1").html(l),$("#spSumaSemana2").html(n),$("#spSumaSemana3").html(s),$("#spSumaSemana4").html(c),$("#spSumaSemana5").html(d),$("#spSumaSemana6").html(h);var o=$("#lstJornadasLaborales").val(),e=0;if(null!=o&&0!=o){var i=o.split("::");i[0],e=i[1],i[2],i[3],e<l&&$("#tdSumaSemana1").css("background-color","red"),e<n&&$("#tdSumaSemana2").css("background-color","red"),e<s&&$("#tdSumaSemana3").css("background-color","red"),e<c&&$("#tdSumaSemana4").css("background-color","red"),e<d&&$("#tdSumaSemana5").css("background-color","red"),e<h&&$("#tdSumaSemana6").css("background-color","red")}}function cargarPerfilesLaboralesDisponiblesPorTipoHorario(a,t,l,n,s,c){var r=!1;if(0<a){var o={datatype:"json",datafields:[{name:"nro_row",type:"integer"},{name:"id_perfillaboral",type:"integer"},{name:"perfil_laboral",type:"string"},{name:"perfil_laboral_grupo",type:"string"},{name:"tipo_horario_descripcion",type:"string"}],url:"/calendariolaboral/listperfilesregisteredportipohorario",type:"POST",async:!(r=!0),data:{tipo_horario:a},cache:!1},e=new $.jqx.dataAdapter(o);$("#lstPerfilesLaboralesDisponibles").jqxListBox({width:500,source:e,displayMember:"perfil_laboral",valueMember:"id_perfillaboral",checkboxes:!0,height:600}),$("#lstPerfilesLaboralesDisponibles").off(),$("#lstPerfilesLaboralesDisponibles").jqxListBox("checkAll"),$("#lstPerfilesLaboralesDisponibles").off(),$("#lstPerfilesLaboralesDisponibles").on("checkChange",function(a){var r=$("#lstPerfilesLaboralesDisponibles").jqxListBox("getCheckedItems");$("#calendar").html("");var o=[],e=[],i=0;$.each(r,function(a){i++,o=obtenerTodosHorariosRegistradosEnCalendarioPorPerfil(this.value,$("#lstTiposDeHorario").val(),!1,t,l,i),e=$.merge(e,o)}),iniciarCalendarioLaboralPorTipoHorario(5,$("#lstTiposDeHorario").val(),e,n,s,c)})}else $("#lstPerfilesLaboralesDisponibles").jqxListBox("render");return r}function fechaConvertirAFormato(a,r){""==r&&(r="-");var o=a,e=o.getDate(),i=o.getMonth(),t="",l="";return e<10&&(t="0"),(i+=1)<10&&(l="0"),t+e+r+l+i+r+o.getFullYear()}function cargarModalHorario(a){return 0<a&&($.ajax({url:"/horarioslaborales/getone",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:a},success:function(a){var r=jQuery.parseJSON(a);0<r.length&&$.each(r,function(a,r){$("#txtNombreHorario").val(r.nombre),$("#txtNombreAlternativoHorario").val(r.nombre_alternativo),$("#txtColorHorario").val(r.color),$("#txtColorHorario").css({"background-color":r.color,color:r.color}),$("#txtHoraEntHorario").val(r.hora_entrada),$("#txtHoraSalHorario").val(r.hora_salida),$("#txtHoraInicioRangoEnt").val(r.hora_inicio_rango_ent),$("#txtHoraFinalizacionRangoEnt").val(r.hora_final_rango_ent),$("#txtHoraInicioRangoSal").val(r.hora_inicio_rango_sal),$("#txtHoraFinalizacionRangoSal").val(r.hora_final_rango_sal),$("#txtObservacion").val(r.observacion);var o=r.hora_entrada,e=r.hora_salida;""==o&&(o="00:00:00"),""==e&&(e="00:00:00"),$("#txtHorasLaborales").val(r.horas_laborales)})}}),!0)}function obtenerDatosHorario(a){var o=[];return 0<a&&$.ajax({url:"/horarioslaborales/getone",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:a},success:function(a){var r=jQuery.parseJSON(a);0<r.length&&$.each(r,function(a,r){o.push({nombre:r.nombre,nombre_alternativo:r.nombre_alternativo,color:r.color,hora_entrada:r.hora_entrada,hora_salida:r.hora_salida,hora_inicio_rango_ent:r.hora_inicio_rango_ent,hora_final_rango_ent:r.hora_final_rango_ent,hora_inicio_rango_sal:r.hora_inicio_rango_sal,observacion:r.observacion,horas_laborales:r.horas_laborales,dias_laborales:r.dias_laborales})})}}),o}