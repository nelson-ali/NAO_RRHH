function inicializarFormularioControlExcepcionesNuevoEditar(m,o,e,a,i,c,r,n,t,l,s,d,p,v,u){var f="New";if(2==m&&(f="Edit"),$("#txtFechaIni"+f).datepicker("update",""),$("#txtFechaIni"+f).val("").datepicker("update"),$("#txtFechaFin"+f).datepicker("update",""),$("#txtFechaFin"+f).val("").datepicker("update"),$("#txtHoraIni"+f).val(""),$("#txtHoraFin"+f).val(""),$("#txtJustificacion"+f).val(""),$("#divDestino"+f).val(""),$("#divDestino"+f).hide(),$("#txtObservacion"+f).val(""),2==m)$("#txtFechaIni"+f).datepicker("update",a),$("#txtHoraIni"+f).val(i),$("#txtFechaFin"+f).datepicker("update",c),$("#txtHoraFin"+f).val(r);else{var h=new Date,x=h.getMonth()+1,E=h.getDate(),b=(E<10?"0":"")+E+"-"+(x<10?"0":"")+x+"-"+h.getFullYear();$("#txtFechaIni"+f).datepicker("update",b),$("#txtFechaFin"+f).datepicker("update",b)}$("#txtFechaIni"+f).datepicker("hiden"),$("#txtFechaFin"+f).datepicker("hiden"),$("#txtFechaIni"+f).data("date-min",v),$("#txtFechaIni"+f).data("date-max",u),$("#txtFechaFin"+f).data("date-min",v),$("#txtFechaFin"+f).data("date-max",u),$("#txtJustificacion"+f).val(n),$("#lblObservacion"+f).text("Observaciones:"),$("#txtObservacion"+f).prop("placeholder","Observaciones..."),$("#txtObservacion"+f).val(p),$("#txtDestino"+f).val(t);var j=$("#txtHoraIni"+f).clockpicker({placement:"bottom",align:"left",autoclose:!0,default:"now"}).on("changeDate",function(o){$(this).hide()});$("#aHoraIni"+f).off(),$("#aHoraIni"+f).on("click",function(o){o.stopPropagation(),j.clockpicker("show")});var g=$("#txtHoraFin"+f).clockpicker({placement:"bottom",align:"left",autoclose:!0,default:"now"}).on("changeDate",function(o){$(this).hide()});if($("#aHoraFin"+f).off(),$("#aHoraFin"+f).on("click",function(o){o.stopPropagation(),g.clockpicker("show")}),cargaListaDeExcepcionesAdministrador(m,e,d),1==m)$("#divCompensacionNew").hide(),$("#divHorariosNew").hide(),cargarCompensacionTurnos(0,0),cargarCompensacionEntradaSalida(0,-1);else{var F=0;""!=$("#lstExcepcion"+f+" option:selected").data("lugar")&&null!=$("#lstExcepcion"+f+" option:selected").data("lugar")&&(F=$("#lstExcepcion"+f+" option:selected").data("lugar")),1==F&&$("#divDestino"+f).show();var _=$("#lstExcepcion"+f+" option:selected").text(),C=$("#lstExcepcion"+f+" option:selected").data("codigo"),M=$("#lstExcepcion"+f+" option:selected").data("color"),N=($("#lstExcepcion"+f+" option:selected").data("descuento"),$("#lstExcepcion"+f+" option:selected").data("descuento_descripcion")),P=$("#lstExcepcion"+f+" option:selected").data("compensatoria"),I=$("#lstExcepcion"+f+" option:selected").data("compensatoria_descripcion"),S=$("#lstExcepcion"+f+" option:selected").data("genero"),D=($("#lstExcepcion"+f+" option:selected").data("cantidad"),$("#lstExcepcion"+f+" option:selected").data("unidad"),$("#lstExcepcion"+f+" option:selected").data("fraccionamiento"),$("#lstExcepcion"+f+" option:selected").data("horario")),y=$("#lstExcepcion"+f+" option:selected").data("horario_descripcion"),H=($("#lstExcepcion"+f+" option:selected").data("refrigerio"),$("#lstExcepcion"+f+" option:selected").data("refrigerio_descripcion")),O="&nbsp;";""!=$("#lstExcepcion"+f+" option:selected").data("frecuencia_descripcion")&&null!=$("#lstExcepcion"+f+" option:selected").data("frecuencia_descripcion")&&(O=$("#lstExcepcion"+f+" option:selected").data("frecuencia_descripcion"));$("#lstExcepcion"+f+" option:selected").data("redondeo");var T="&nbsp;";""!=$("#lstExcepcion"+f+" option:selected").data("redondeo_descripcion")&&null!=$("#lstExcepcion"+f+" option:selected").data("redondeo_descripcion")&&(T=$("#lstExcepcion"+f+" option:selected").data("redondeo_descripcion"));var w="<div class='form-group'><label class='col-md-3 control-label'>Excepci&oacute;n</label><div class='col-md-9'><p class='form-control-static'>"+_+"</p></div></div></br>";w+="<div class='form-group'><label class='col-md-3 control-label'>Tipo</label><div class='col-md-9'><p class='form-control-static'>"+F+"</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>C&oacute;digo</label><div class='col-md-9'><p class='form-control-static'>"+C+"</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>Color</label><div class='col-md-9' style='background-attachment: "+M+";'><p class='form-control-static'>&nbsp;</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>Descuento</label><div class='col-md-9'><p class='form-control-static'>"+N+"</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>Compensatoria</label><div class='col-md-9'><p class='form-control-static'>"+I+"</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>G&eacute;nero</label><div class='col-md-9'><p class='form-control-static'>"+S+"</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>Horario</label><div class='col-md-9'><p class='form-control-static'>"+y+"</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>Refrigerio</label><div class='col-md-9'><p class='form-control-static'>"+H+"</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>Frecuencia</label><div class='col-md-9'><p class='form-control-static'>"+O+"</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>Disgregado</label><div class='col-md-9'><p class='form-control-static'>"+T+"</p></div></div></br>",w+="<div class='form-group'><label class='col-md-3 control-label'>Observaci&oacute;n</label><div class='col-md-9'><p class='form-control-static'>"+(p=$("#lstExcepcion"+f+" option:selected").data("observacion"))+"</p></div></div></br>",$("#divModalBody").html(w),1==P?($("#divCompensacion"+f).show(),cargarCompensacionTurnos(m,l),cargarCompensacionEntradaSalida(m,s)):$("#divCompensacion"+f).hide(),1==D?$("#divHorarios"+f).show():$("#divHorarios"+f).hide()}$("#lstExcepcion"+f).off(),$("#lstExcepcion"+f).on("change",function(){if(""!=this.value){var o=0;""!=$("#lstExcepcion"+f+" option:selected").data("lugar")&&null!=$("#lstExcepcion"+f+" option:selected").data("lugar")&&(o=$("#lstExcepcion"+f+" option:selected").data("lugar")),1==o?$("#divDestino"+f).show():$("#divDestino"+f).hide();var e=$("#lstExcepcion"+f+" option:selected").text(),a=$("#lstExcepcion"+f+" option:selected").data("codigo"),i=$("#lstExcepcion"+f+" option:selected").data("color"),c=($("#lstExcepcion"+f+" option:selected").data("descuento"),$("#lstExcepcion"+f+" option:selected").data("descuento_descripcion")),r=$("#lstExcepcion"+f+" option:selected").data("compensatoria"),n=$("#lstExcepcion"+f+" option:selected").data("compensatoria_descripcion"),t=$("#lstExcepcion"+f+" option:selected").data("genero"),l=($("#lstExcepcion"+f+" option:selected").data("cantidad"),$("#lstExcepcion"+f+" option:selected").data("unidad"),$("#lstExcepcion"+f+" option:selected").data("fraccionamiento"),$("#lstExcepcion"+f+" option:selected").data("horario")),s=$("#lstExcepcion"+f+" option:selected").data("horario_descripcion"),d=($("#lstExcepcion"+f+" option:selected").data("refrigerio"),$("#lstExcepcion"+f+" option:selected").data("refrigerio_descripcion")),p="&nbsp;";""!=$("#lstExcepcion"+f+" option:selected").data("frecuencia_descripcion")&&null!=$("#lstExcepcion"+f+" option:selected").data("frecuencia_descripcion")&&(p=$("#lstExcepcion"+f+" option:selected").data("frecuencia_descripcion"));$("#lstExcepcion"+f+" option:selected").data("redondeo");var v="&nbsp;";""!=$("#lstExcepcion"+f+" option:selected").data("redondeo_descripcion")&&null!=$("#lstExcepcion"+f+" option:selected").data("redondeo_descripcion")&&(v=$("#lstExcepcion"+f+" option:selected").data("redondeo_descripcion"));var u="<div class='form-group'><label class='col-md-3 control-label'>Excepci&oacute;n</label><div class='col-md-9'><p class='form-control-static'>"+e+"</p></div></div></br>";u+="<div class='form-group'><label class='col-md-3 control-label'>Tipo</label><div class='col-md-9'><p class='form-control-static'>"+o+"</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>C&oacute;digo</label><div class='col-md-9'><p class='form-control-static'>"+a+"</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>Color</label><div class='col-md-9' style='background: "+i+";'><p class='form-control-static'>&nbsp;</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>Descuento</label><div class='col-md-9'><p class='form-control-static'>"+c+"</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>Compensatoria</label><div class='col-md-9'><p class='form-control-static'>"+n+"</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>G&eacute;nero</label><div class='col-md-9'><p class='form-control-static'>"+t+"</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>Horario</label><div class='col-md-9'><p class='form-control-static'>"+s+"</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>Refrigerio</label><div class='col-md-9'><p class='form-control-static'>"+d+"</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>Frecuencia</label><div class='col-md-9'><p class='form-control-static'>"+p+"</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>Disgregado</label><div class='col-md-9'><p class='form-control-static'>"+v+"</p></div></div></br>",u+="<div class='form-group'><label class='col-md-3 control-label'>Observaci&oacute;n</label><div class='col-md-9'><p class='form-control-static'>"+$("#lstExcepcion"+f+" option:selected").data("observacion")+"</p></div></div></br>",$("#divModalBody").html(u),1==r?($("#divCompensacion"+f).show(),cargarCompensacionTurnos(m,0),cargarCompensacionEntradaSalida(m,-1)):$("#divCompensacion"+f).hide(),1==l?$("#divHorarios"+f).show():$("#divHorarios"+f).hide(),$("#txtFechaIni"+f).focus()}})}function cargaListaDeExcepcionesAdministrador(o,a,e){var i="New";2==o&&(i="Edit");var c="";$("#lstExcepcion"+i).html(""),$("#lstExcepcion"+i).append("<option value=''>Seleccionar..</option>"),$("#lstExcepcion"+i).prop("disabled",!0);var r="";$.ajax({url:"/excepciones/list/",type:"POST",datatype:"json",data:{genero:e},async:!1,cache:!1,success:function(o){var e=jQuery.parseJSON(o);0<e.length&&($("#lstExcepcion"+i).prop("disabled",!1),$.each(e,function(o,e){c=a==e.id?"selected":"",r=""!=e.frecuencia_descripcion&&null!=e.frecuencia_descripcion?"(M&Aacute;XIMO "+e.frecuencia_descripcion+")":"",$("#lstExcepcion"+i).append("<option value='"+e.id+"' "+c+" data-tipo_excepcion='"+e.tipo_excepcion+"' data-codigo='"+e.codigo+"' data-color='"+e.color+"' data-descuento='"+e.descuento+"' data-descuento_descripcion='"+e.descuento_descripcion+"' data-compensatoria='"+e.compensatoria+"' data-compensatoria_descripcion='"+e.compensatoria_descripcion+"' data-genero='"+e.genero+"' data-cantidad='"+e.cantidad+"' data-unidad='"+e.unidad+"' data-fraccionamiento='"+e.fraccionamiento+"' data-frecuencia_descripcion='"+e.frecuencia_descripcion+"' data-horario='"+e.horario+"' data-horario_descripcion='"+e.horario_descripcion+"' data-refrigerio='"+e.refrigerio+"' data-refrigerio_descripcion='"+e.refrigerio_descripcion+"'  data-lugar='"+e.lugar+"' data-lugar_descripcion='"+e.refrigerio_descripcion+"' data-redondeo='"+e.redondeo+"' data-redondeo_descripcion='"+e.redondeo_descripcion+"' data-observacion='"+e.observacion+"'>"+e.excepcion+" "+r+"</option>")}))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}})}function validaFormularioControlExcepciones(o){var e=!0,a="New",i=0,c=0;c=2==o?(a="Edit",i=$("#hdnIdControlExcepcionEdit").val(),$("#hdnIdRelaboralEdit").val()):$("#hdnIdRelaboralNew").val();var r="";$(".msjs-alert").hide(),limpiarMensajesErrorPorValidacionControlExcepcion(o);var n=null,t=0;null!=$("#lstExcepcion"+a+" option:selected").data("lugar")&&(t=$("#lstExcepcion"+a+" option:selected").data("lugar"));var l=$("#lstExcepcion"+a),s=$("#divExcepcion"+a),d=$("#helpErrorExcepcion"+a),p=$("#lstExcepcion"+a).val(),v=($("#lstExcepcion"+a+" option:selected").data("descuento"),$("#lstExcepcion"+a+" option:selected").data("compensatoria")),u=($("#lstExcepcion"+a+" option:selected").data("genero_id"),$("#lstExcepcion"+a+" option:selected").data("cantidad"),$("#lstExcepcion"+a+" option:selected").data("unidad"),$("#lstExcepcion"+a+" option:selected").data("fraccionamiento"),$("#lstExcepcion"+a+" option:selected").data("horario")),m=($("#lstExcepcion"+a+" option:selected").data("refrigerio"),$("#txtFechaIni"+a)),f=$("#divFechaIni"+a),h=$("#helpErrorFechaIni"+a),x=$("#txtFechaIni"+a).val(),E=$("#txtHoraIni"+a),b=$("#divHoraIni"+a),j=$("#helpErrorHoraIni"+a),g=$("#txtHoraIni"+a).val(),F=$("#txtFechaFin"+a),_=$("#divFechaFin"+a),C=$("#helpErrorFechaFin"+a),M=$("#txtFechaFin"+a).val(),N=$("#txtHoraFin"+a),P=$("#divHoraFin"+a),I=$("#helpErrorHoraFin"+a),S=$("#txtHoraFin"+a).val(),D=$("#txtJustificacion"+a),y=$("#divJustificacion"+a),H=$("#helpErrorJustificacion"+a),O=$("#txtJustificacion"+a).val(),T=$("#txtDestino"+a),w=$("#divDestino"+a),k=$("#helpErrorDestino"+a),q=($("#txtDestino"+a).val(),$("#txtJbservacion"+a),$("#divObservacion"+a),$("#helpErrorObservacion"+a),$("#txtObservacion"+a).val(),$("#lstCompensacionTurno"+a)),J=$("#divCompensacionTurno"+a),W=$("#helpErrorCompensacionTurno"+a),A=$("#lstCompensacionTurno"+a).val(),Q=$("#lstCompensacionEntradaSalida"+a),R=$("#divCompensacionEntradaSalida"+a),z=$("#helpErrorCompensacionEntradaSalida"+a),G=$("#lstCompensacionEntradaSalida"+a).val();if(""==p||0==p){e=!1;r="Debe seleccionar la excepci&oacute;n necesariamente.";s.addClass("has-error"),d.html(r),null==n&&(n=l)}if(""==x){e=!1;r="Debe seleccionar la fecha de inicio de la excepci&oacute;n.";f.addClass("has-error"),h.html(r),null==n&&(n=m)}if(""==M){e=!1;r="Debe seleccionar la fecha de finalizaci&oacute;n de la excepci&oacute;n.";_.addClass("has-error"),C.html(r),null==n&&(n=F)}if(procesaTextoAFecha(M,"-")<procesaTextoAFecha(x,"-")&&(e=!1,r="La fecha de inicio no puede ser superior a la fecha de finalizaci&oacute;n.",$("#divFechaIni"+a).show(),$("#divFechaIni"+a).addClass("has-error"),$("#helpErrorFechaIni"+a).html(r),$("#divFechaFin"+a).show(),$("#divFechaFin"+a).addClass("has-error"),$("#helpErrorFechaFin"+a).html(r),null==n&&(n=$("#txtFechaFin"+a))),""==O){e=!1;r="Debe introducir la justificaci&oacute;n para solicitar la excepci&oacute;n.";y.addClass("has-error"),H.html(r),null==n&&(n=D)}if(1==v){if(0==A||null==A){e=!1;r="Debe seleccionar el turno en el cual se compensar&aacute; el permiso.";J.addClass("has-error"),W.html(r),null==n&&(n=q)}if(G<0||""==G||null==G){e=!1;r="Debe seleccionar si lo compensaci&oacute;n se efecturar&aacute; en la Entrada o en la Salida del turno.";R.addClass("has-error"),z.html(r),null==n&&(n=Q)}}if(1==u){if(""==g){e=!1;r="Debe seleccionar la hora de inicio.";b.addClass("has-error"),j.html(r),null==n&&(n=E)}if(""==S){e=!1;r="Debe seleccionar la hora de finalizaci&oacute;n.";P.addClass("has-error"),I.html(r),null==n&&(n=N)}if(x==M&&""!=x&&""!=g&&""!=S)if(0<horaEsMayorAhora(g,S)){e=!1;r="Debe modificar la hora de finalizaci&oacute;n debido a inconsistencia.";P.addClass("has-error"),I.html(r),null==n&&(n=N)}}if(1==t&&""==$("#txtDestino"+a).val()){e=!1;r="Debe especificar el lugar de asignaci&oacute;n de la excepci&oacute;n.";w.addClass("has-error"),k.html(r),null==n&&(n=T)}(null!=n&&n.focus(),e)&&(verificaCruceDeHorariosYExcesoEnUso(i,c,p,x,g,M,S,u,O)||(e=!1),verificaFrecuencia(i,c,p,x,g,M,S,u)||(e=!1));return e}function limpiarMensajesErrorPorValidacionControlExcepcion(o){var e="New";2==o&&(e="Edit"),$("#divExcepcion"+e).removeClass("has-error"),$("#helpErrorExcepcion"+e).html(""),$("#divFechaIni"+e).removeClass("has-error"),$("#helpErrorFechaIni"+e).html(""),$("#divHoraIni"+e).removeClass("has-error"),$("#helpErrorHoraIni"+e).html(""),$("#divFechaFin"+e).removeClass("has-error"),$("#helpErrorFechaFin"+e).html(""),$("#divHoraFin"+e).removeClass("has-error"),$("#helpErrorHoraFin"+e).html(""),$("#divJustificacion"+e).removeClass("has-error"),$("#helpErrorJustificacion"+e).html(""),$("#divObservacion"+e).removeClass("has-error"),$("#helpErrorObservacion"+e).html(""),$("#divCompensacionTurno"+e).removeClass("has-error"),$("#divCompensacionEntradaSalida"+e).removeClass("has-error"),$("#helpErrorJustificacion"+e).html("")}function guardaControlExcepciones(o){var a=!1,e=0,i="New";2==o&&(e=$("#hdnIdControlExcepcionEdit").val(),i="Edit");var c=$("#hdnIdRelaboral"+i).val(),r=$("#lstExcepcion"+i).val(),n=$("#txtFechaIni"+i).val(),t=$("#txtHoraIni"+i).val(),l=$("#txtFechaFin"+i).val(),s=$("#txtHoraFin"+i).val(),d=$("#txtJustificacion"+i).val(),p=$("#txtDestino"+i).val(),v=0,u=0;1==$("#lstExcepcion"+i+" option:selected").data("compensatoria")&&(v=$("#lstCompensacionTurno"+i).val(),u=$("#lstCompensacionEntradaSalida"+i).val());var m=$("#lstExcepcion"+i+" option:selected").data("horario"),f=$("#txtObservacion"+i).val();return""!=r&&0<r&&$.ajax({url:"/controlexcepciones/save/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:e,relaboral_id:c,excepcion_id:r,fecha_ini:n,hora_ini:t,fecha_fin:l,hora_fin:s,justificacion:d,destino:p,turno:v,entrada_salida:u,horario:m,observacion:f},success:function(o){var e=jQuery.parseJSON(o);$(".msjes").hide(),1==e.result?(a=!0,$("#divMsjePorSuccess").html(""),$("#divMsjePorSuccess").append(e.msj),$("#divMsjeNotificacionSuccess").jqxNotification("open"),$("#divGridControlExcepciones").jqxGrid("updatebounddata")):0==e.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(e.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(e.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),a}function verificaCruceDeHorariosYExcesoEnUso(o,e,a,i,c,r,n,t,l){var s=!1;return $.ajax({url:"/controlexcepciones/verificacruceexcesouso/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:o,relaboral_id:e,excepcion_id:a,excepcion_id:a,fecha_ini:i,hora_ini:c,fecha_fin:r,hora_fin:n,horario:t,justificacion:l},success:function(o){var e=jQuery.parseJSON(o);$(".msjes").hide(),0==e.result?s=!0:1==e.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(e.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(e.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),s}function verificaCantidadPermisosAnualesAcumulados(o,e,a,i,c){var r=!1;return $.ajax({url:"/controlexcepciones/verificaacumulacionpermisosanuales/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:o,relaboral_id:e,excepcion_id:a,controlexcepcion_id:o,fecha_ini:i,fecha_fin:c},success:function(o){var e=jQuery.parseJSON(o);$(".msjes").hide(),1==e.result?r=!0:1==e.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(e.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(e.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),r}function verificaCantidadHorasMensualesAcumulados(o,e,a,i,c,r,n){var t=!1;return $.ajax({url:"/controlexcepciones/verificaacumulacionhorasmensuales/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:o,relaboral_id:e,excepcion_id:a,controlexcepcion_id:o,fecha_ini:i,hora_ini:c,fecha_fin:r,hora_fin:n},success:function(o){var e=jQuery.parseJSON(o);$(".msjes").hide(),1==e.result?t=!0:1==e.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(e.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(e.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),t}function cargarCompensacionTurnos(o,e){var a="New";2==o&&(a="Edit");var i="";if($("#lstCompensacionTurno"+a).html(""),$("#lstCompensacionTurno"+a).append("<option value=''>Seleccionar..</option>"),0<o){$("#lstCompensacionTurno"+a).prop("disabled",!1);for(var c=1;c<=2;c++)i+="<option value='"+c+"' "+(e==c?"selected":"")+">"+c+"°</option>";$("#lstCompensacionTurno"+a).append(i)}else $("#lstCompensacionTurno"+a).prop("disabled",!0)}function cargarCompensacionEntradaSalida(o,e){var a="New";2==o&&(a="Edit");var i="",c="";$("#lstCompensacionEntradaSalida"+a).html(""),$("#lstCompensacionEntradaSalida"+a).append("<option value=''>Seleccionar..</option>"),0<o?($("#lstCompensacionEntradaSalida"+a).prop("disabled",!1),0==e&&(c="selected"),i+="<option value='0' "+c+">ENTRADA</option>",c="",1==e&&(c="selected"),i+="<option value='1' "+c+">SALIDA</option>",$("#lstCompensacionEntradaSalida"+a).append(i)):$("#lstCompensacionEntradaSalida"+a).prop("disabled",!0)}function verificaFrecuencia(o,e,a,i,c,r,n,t){var l=!1;return $.ajax({url:"/controlexcepciones/verificafrecuencia/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id_controlexcepcion:o,id_relaboral:e,id_excepcion:a,fecha_ini:i,hora_ini:c,fecha_fin:r,hora_fin:n,horario:t},success:function(o){var e=jQuery.parseJSON(o);$(".msjes").hide(),1==e.result||2==e.result?l=!0:1==e.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(e.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(e.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),l}function horaEsMayorAhora(o,e){return $.ajax({url:"/controlexcepciones/horaesmayorahora/",type:"POST",datatype:"html",async:!1,cache:!1,data:{hora_ini:o,hora_fin:e},success:function(o){}}).responseText}