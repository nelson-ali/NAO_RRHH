function validaFormularioFeriado(a){var i=!0,r="";$(".msjs-alert").hide();var e="New";2==a&&(e="Editar"),limpiarMensajesErrorPorValidacionFeriado(e);var o=null,s=$("#txtFeriado"+e).val(),t=$("#divFeriado"+e),c=$("#helpErrorFeriado"+e),l=$("#txtFeriado"+e),d=$("#divTiposHorarios"+e),n=$("#helpErrorTiposHorarios"+e),h=$("#chkHorariosDiscontinuos"+e).bootstrapSwitch("state"),p=$("#chkHorariosDiscontinuos"+e),v=$("#chkHorariosContinuos"+e).bootstrapSwitch("state"),u=$("#chkHorariosMultiples"+e).bootstrapSwitch("state"),f=$("#lstCantidadDias"+e).val(),m=$("#divCantidadDias"+e),E=$("#helpErrorCantidadDias"+e),F=$("#lstCantidadDias"+e),j=$("#chkRepetitivo"+e).bootstrapSwitch("state"),D=$("#txtFechaEspecifica"+e).val(),M=$("#divFechaEspecifica"+e),b=$("#helpErrorFechaEspecifica"+e),C=$("#txtFechaEspecifica"+e),x=$("#lstMes"+e).val(),S=$("#divMes"+e),w=$("#helpErrorMes"+e),H=$("#lstMes"+e),k=$("#lstDia"+e).val(),N=$("#divDia"+e),P=$("#helpErrorDia"+e),g=$("#lstDia"+e);if(""==s){i=!1;r="Debe introducir el nombre del feriado necesariamente.";t.addClass("has-error"),c.html(r),null==o&&(o=l)}if(!h&&!v&&!u){i=!1;r="Debe seleccionar al menos un Tipo de Horario necesariamente.";d.addClass("has-error"),n.html(r),null==o&&(o=p)}if(0==f){i=!1;r="Debe seleccionar al menos un d&iacute;a para la ejecuci&oacute;n del feriado.";m.addClass("has-error"),E.html(r),null==o&&(o=F)}if(j){if(0==x){i=!1;r="Debe seleccionar el mes correspondiente en el que se aplica el feriado cada a&ntilde;o.";S.addClass("has-error"),w.html(r),null==o&&(o=H)}if(0==k){i=!1;r="Debe seleccionar el d&iacute; del mes en el que se aplica el feriado cada a&ntilde;o.";N.addClass("has-error"),P.html(r),null==o&&(o=g)}}else if(""==D){i=!1,$("#divFechaEspecifica"+e).show(),$("#txtFechaEspecifica"+e).show();r="Debe seleccionar una fecha espec&iacute;fica para la aplicaci&oacute;n del feriado necesariamente.";M.addClass("has-error"),b.html(r),null==o&&(o=C)}return null!=o&&o.focus(),i}function limpiarMensajesErrorPorValidacionFeriado(a){$("#divFeriado"+a).removeClass("has-error"),$("#helpErrorFeriado"+a).html(""),$("#divTiposHorarios"+a).removeClass("has-error"),$("#helpErrorTiposHorarios"+a).html(""),$("#divCantidadDias"+a).removeClass("has-error"),$("#helpErrorCantidadDias"+a).html(""),$("#divMes"+a).removeClass("has-error"),$("#helpErrorMes"+a).html(""),$("#divDia"+a).removeClass("has-error"),$("#helpErrorDia"+a).html(""),$("#divFechaEspecifica"+a).removeClass("has-error"),$("#helpErrorFechaEspecifica"+a).html("")}function guardaFeriado(a){var r=!0,i=$("#hdnIdFeriadoEditar").val(),e="New";2==a&&(e="Editar");var o=$("#txtFeriado"+e).val(),s=$("#txtDescripcion"+e).val(),t=0,c=0,l=0;$("#chkHorariosDiscontinuos"+e).bootstrapSwitch("state")&&(t=1),$("#chkHorariosContinuos"+e).bootstrapSwitch("state")&&(c=1),$("#chkHorariosMultiples"+e).bootstrapSwitch("state")&&(l=1);var d=$("#lstCantidadDias"+e).val(),n=0,h="",p="",v="";if($("#chkRepetitivo"+e).bootstrapSwitch("state")&&(n=1),0==n)if(""!=$("#txtFechaEspecifica"+e).val().split("-")){var u=$("#txtFechaEspecifica"+e).val().split("-");p=parseFloat(u[0]),h=parseFloat(u[1]),v=parseFloat(u[2])}else r=!1;else h=$("#lstMes"+e).val(),p=$("#lstDia"+e).val(),v="";var f=$("#txtObservacion"+e).val();return r&&""!=o&&$.ajax({url:"/feriados/save/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:i,feriado:o,descripcion:s,id_regional:1,horario_discontinuo:t,horario_continuo:c,horario_multiple:l,cantidad_dias:d,repetitivo:n,dia:p,mes:h,gestion:v,observacion:f},success:function(a){r=!1;var i=jQuery.parseJSON(a);$(".msjes").hide(),1==i.result?(r=!0,$("#divMsjePorSuccess").html(""),$("#divMsjePorSuccess").append(i.msj),$("#divMsjeNotificacionSuccess").jqxNotification("open"),$("#divGridFeriados").jqxGrid("updatebounddata")):0==i.result?(r=!1,$("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(i.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(i.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),r}function inicializarCamposParaNuevoRegistroFeriado(a){var i="New";2==a&&(i="Editar"),$("#hdnIdFeriadoEditar").val(0),$("#txtFeriado"+i).val(""),$("#txtDescripcion"+i).val(""),$("#txtObservacion"+i).val(""),$("#chkHorariosDiscontinuos"+i).bootstrapSwitch("state",!1),$("#chkHorariosContinuos"+i).bootstrapSwitch("state",!1),$("#chkHorariosMultiples"+i).bootstrapSwitch("state",!1),$("#chkRepetitivo"+i).bootstrapSwitch("state",!1)}