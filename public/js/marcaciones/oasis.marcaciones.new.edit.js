function cargaListaDeExcepciones(r,o){var e="New";2==r&&(e="Edit");var a="";$("#lstExcepcion"+e).html(""),$("#lstExcepcion"+e).append("<option value=''>Seleccionar..</option>"),$("#lstExcepcion"+e).prop("disabled",!0),$.ajax({url:"/excepciones/list/",type:"POST",datatype:"json",async:!1,cache:!1,success:function(r){var i=jQuery.parseJSON(r);0<i.length&&($("#lstExcepcion"+e).prop("disabled",!1),$.each(i,function(r,i){a=o==i.id?"selected":"",$("#lstExcepcion"+e).append("<option value='"+i.id+"' "+a+">"+i.excepcion+"</option>")}))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}})}function limpiarMensajesErrorPorValidacionControlExcepcion(r){var i="New";2==r&&(i="Edit"),$("#divExcepcion"+i).removeClass("has-error"),$("#helpErrorExcepcion"+i).html(""),$("#divFechaIni"+i).removeClass("has-error"),$("#helpErrorFechaIni"+i).html(""),$("#divHoraIni"+i).removeClass("has-error"),$("#helpErrorHoraIni"+i).html(""),$("#divFechaFin"+i).removeClass("has-error"),$("#helpErrorFechaFin"+i).html(""),$("#divHoraFin"+i).removeClass("has-error"),$("#helpErrorHoraFin"+i).html(""),$("#divJustificacion"+i).removeClass("has-error"),$("#helpErrorJustificacion"+i).html("")}function guardaControlExcepciones(r){var o=!1,i=0,e="New";2==r&&(i=$("#hdnIdControlExcepcionEdit").val(),e="Edit");var a=$("#hdnIdRelaboral"+e).val(),n=$("#lstExcepcion"+e).val(),c=$("#txtFechaIni"+e).val(),s=$("#txtHoraIni"+e).val(),t=$("#txtFechaFin"+e).val(),d=$("#txtHoraFin"+e).val(),p=$("#txtJustificacion"+e).val(),l=$("#txtObservacion"+e).val();return""!=n&&0<n&&$.ajax({url:"/controlexcepciones/save/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:i,relaboral_id:a,excepcion_id:n,fecha_ini:c,hora_ini:s,fecha_fin:t,hora_fin:d,justificacion:p,observacion:l},success:function(r){var i=jQuery.parseJSON(r);$(".msjes").hide(),1==i.result?(o=!0,$("#divMsjePorSuccess").html(""),$("#divMsjePorSuccess").append(i.msj),$("#divMsjeNotificacionSuccess").jqxNotification("open"),$("#divGridControlExcepciones").jqxGrid("updatebounddata")):0==i.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(i.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(i.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),o}function verificaCruceDeHorarios(r,i,o,e,a,n,c,s){var t=!1;return $.ajax({url:"/controlexcepciones/verificacruce/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:r,relaboral_id:i,excepcion_id:o,excepcion_id:o,fecha_ini:e,hora_ini:a,fecha_fin:n,hora_fin:c,justificacion:s},success:function(r){var i=jQuery.parseJSON(r);$(".msjes").hide(),0==i.result?t=!0:1==i.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(i.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(i.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),t}