function cargarExcepcionesEnCalendario(a,o,e,i,n){var r=obtenerListadoFechasEnCalendario(a.id_relaboral,o,e,i,n);$.each(r,function(a,o){$("td[data-date="+o.fecha+"]").css("background-color",o.color),$("td[data-date="+o.fecha+"]").append("</br> (e) "+o.excepcion+" ["+o.hora_ini+" a "+o.hora_fin+"]")})}function obtenerListadoFechasEnCalendario(a,o,e,i,n){var r=[];return $.ajax({url:"/controlexcepciones/listporrelaboralyrango",type:"POST",datatype:"json",cache:!1,async:!1,data:{id_relaboral:a,fecha_ini:i,fecha_fin:n},success:function(a){var o=jQuery.parseJSON(a);0<o.length&&$.each(o,function(a,o){r.push({fecha:o.fecha,dia:o.dia,dia_nombre:o.dia_nombre,dia_nombre_abr_ing:o.dia_nombre_abr_ing,id_controlexcepcion:o.id_controlexcepcion,id_relaboral:o.id_relaboral,fecha_ini:o.fecha_ini,hora_ini:o.hora_ini,fecha_fin:o.fecha_fin,hora_fin:o.hora_fin,justificacion:o.justificacion,controlexcepcion_observacion:o.controlexcepcion_observacion,controlexcepcion_estado:o.controlexcepcion_estado,controlexcepcion_estado_descripcion:o.controlexcepcion_estado_descripcion,excepcion_id:o.excepcion_id,excepcion:o.excepcion,tipoexcepcion_id:o.tipoexcepcion_id,tipo_excepcion:o.tipo_excepcion,codigo:o.codigo,color:o.color,compensatoria:o.compensatoria,compensatoria_descripcion:o.compensatoria_descripcion,genero_id:o.genero_id,genero:o.genero,cantidad:o.cantidad,unidad:o.unidad,fraccionamiento:o.fraccionamiento,frecuencia_descripcion:o.frecuencia_descripcion,redondeo:o.redondeo,redondeo_descripcion:o.redondeo_descripcion})})}}),r}function cargarModalHorario(a){return 0<a&&($.ajax({url:"/horarioslaborales/getone",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:a},success:function(a){var o=jQuery.parseJSON(a);0<o.length&&$.each(o,function(a,o){$("#txtNombreHorario").val(o.nombre),$("#txtNombreAlternativoHorario").val(o.nombre_alternativo),$("#txtColorHorario").val(o.color),$("#txtColorHorario").css({"background-color":o.color,color:o.color}),$("#txtHoraEntHorario").val(o.hora_entrada),$("#txtHoraSalHorario").val(o.hora_salida),$("#txtHoraInicioRangoEnt").val(o.hora_inicio_rango_ent),$("#txtHoraFinalizacionRangoEnt").val(o.hora_final_rango_ent),$("#txtHoraInicioRangoSal").val(o.hora_inicio_rango_sal),$("#txtHoraFinalizacionRangoSal").val(o.hora_final_rango_sal),$("#txtObservacion").val(o.observacion);var e=o.hora_entrada,i=o.hora_salida;""==e&&(e="00:00:00"),""==i&&(i="00:00:00"),$("#txtHorasLaborales").val(o.horas_laborales)})}}),!0)}function obtenerDatosHorario(a){var e=[];return 0<a&&$.ajax({url:"/horarioslaborales/getone",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:a},success:function(a){var o=jQuery.parseJSON(a);0<o.length&&$.each(o,function(a,o){e.push({nombre:o.nombre,nombre_alternativo:o.nombre_alternativo,color:o.color,hora_entrada:o.hora_entrada,hora_salida:o.hora_salida,hora_inicio_rango_ent:o.hora_inicio_rango_ent,hora_final_rango_ent:o.hora_final_rango_ent,hora_inicio_rango_sal:o.hora_inicio_rango_sal,observacion:o.observacion,horas_laborales:o.horas_laborales,dias_laborales:o.dias_laborales})})}}),e}function obtenerFeriadosRangoFechas(a,o,e,i,n){var r=[];return 0<e&&""!=i&&""!=n&&$.ajax({url:"/feriados/listrange",type:"POST",datatype:"json",async:!1,cache:!1,data:{dia:a,mes:o,gestion:e,fecha_ini:i,fecha_fin:n},success:function(a){var o=jQuery.parseJSON(a);0<o.length&&$.each(o,function(a,o){r.push({id:o.id,feriado:o.feriado,descripcion:o.descripcion,cantidad_dias:o.cantidad_dias,repetitivo:o.repetitivo,dia:o.dia,mes:o.mes,gestion:o.gestion,fecha_ini:o.fecha_ini,fecha_fin:o.fecha_fin,observacion:o.observacion})})}}),r}