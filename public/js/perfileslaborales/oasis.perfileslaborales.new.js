function definirGrillaParaSeleccionarCargoAcefalo(e,a){prepareSimulator("grid");var r=new $.jqx.dataAdapter({datatype:"json",datafields:[{name:"seleccionable",type:"string"},{name:"codigo",type:"string"},{name:"id_condicion",type:"string"},{name:"condicion",type:"string"},{name:"id_organigrama",type:"integer"},{name:"id_cargo",type:"string"},{name:"gerencia_administrativa",type:"string"},{name:"departamento_administrativo",type:"string"},{name:"nivelsalarial",type:"string"},{name:"cargo",type:"string"},{name:"sueldo",type:"numeric"}],url:"/relaborales/listcargos",cache:!1});$("#divGrillaParaSeleccionarCargo").jqxGrid({width:"100%",height:250,source:r,sortable:!0,altRows:!0,groupable:!0,columnsresize:!0,pageable:!1,pagerMode:"advanced",showfilterrow:!0,filterable:!0,columns:[{text:"#",sortable:!1,filterable:!1,editable:!1,groupable:!1,draggable:!1,resizable:!1,datafield:"",columntype:"number",width:50},{text:"Opci√≥n",datafield:"seleccionable",width:100,sortable:!1,showfilterrow:!1,filterable:!1,columntype:"button",cellsrenderer:function(){return"Seleccionar"},buttonclick:function(e){editrow=e,$("#divGrillaParaSeleccionarCargo").offset();var a=$("#divGrillaParaSeleccionarCargo").jqxGrid("getrowdata",editrow);agregarCargoSeleccionadoEnGrilla(a.id_cargo,a.codigo,a.id_finpartida,a.finpartida,a.id_condicion,a.condicion,a.id_organigrama,a.gerencia_administrativa,a.departamento_administrativo,a.nivelsalarial,a.cargo,a.sueldo)}},{text:"&Iacute;tem/C&oacute;digo",filtertype:"input",datafield:"codigo",width:100},{text:"Condici&oacute;n",filtertype:"checkedlist",datafield:"condicion",width:100},{text:"Gerencia",filtertype:"checkedlist",datafield:"gerencia_administrativa",width:150},{text:"Departamento",filtertype:"checkedlist",datafield:"departamento_administrativo",width:150},{text:"Nivel Salarial",filtertype:"checkedlist",datafield:"nivelsalarial",width:150},{text:"Cargo",columntype:"textbox",filtertype:"input",datafield:"cargo",width:150},{text:"Haber",filtertype:"checkedlist",datafield:"sueldo",width:150}]})}function listarTiposHorarios(r,e){var i="";(i=1==e?$("#lstTipoHorarioPerfilLaboralNuevo"):$("#lstTipoHorarioPerfilLaboralEditar")).html(""),$.ajax({url:"/perfileslaborales/listtiposhorarios",type:"POST",datatype:"json",async:!1,data:{id:r},success:function(e){var a=jQuery.parseJSON(e);0<a.length&&(i.append("<option value='0'>Seleccionar..</option>"),$.each(a,function(e,a){ok=!0,r==a.tipo_horario?selected="selected":selected="",i.append("<option value="+a.tipo_horario+" "+selected+">"+a.tipo_horario_descripcion+"</option>")}))}})}function cargarAreasAdministrativas(e,r){$("#divAreas").hide(),$("#lstAreas").html("");var i=!1,o="";return 0<e&&$.ajax({url:"/relaborales/listareas",type:"POST",datatype:"json",async:!1,data:{id_padre:e},success:function(e){var a=jQuery.parseJSON(e);0<a.length&&($("#divAreas").show(),$("#lstAreas").append("<option value='0'>Seleccionar..</option>"),$.each(a,function(e,a){i=!0,o=r==a.id_area?"selected":"",$("#lstAreas").append("<option value="+a.id_area+" "+o+">"+a.unidad_administrativa+"</option>")}))}}),i}function validaFormularioPorNuevoRegistroPerfilLaboral(){var e=!0,a="",r=null;$(".msjs-alert").hide(),limpiarMensajesErrorPorValidacionNuevoRegistroPerfilLaboral();var i=$("#txtPerfilLaboralNuevo").val(),o=$("#lstTipoHorarioPerfilLaboralNuevo").val();return null!=i&&""!=i||(e=!1,a="Debe introducir el perfil laboral necesariamente.",$("#divPerfilLaboralNuevo").addClass("has-error"),$("#helpErrorPerfilLaboralNuevo").html(a),null==r&&(r=$("#txtPerfilLaboralNuevo"))),0==o&&(e=!1,a="Debe seleccionar el tipo de horario necesariamente.",$("#divTipoHorarioPerfilLaboralNuevo").addClass("has-error"),$("#helpErrorTipoHorarioPerfilLaboralNuevo").html(a),null==r&&(r=$("#lstTipoHorarioPerfilLaboralNuevo"))),null!=r&&r.focus(),e}function limpiarMensajesErrorPorValidacionNuevoRegistroPerfilLaboral(){$("#divPerfilLaboralNuevo").removeClass("has-error"),$("#helpErrorPerfilLaboralNuevo").html("")}function guardarNuevoRegistroPerfilLaboral(){var e=$("#txtPerfilLaboralNuevo").val(),a=$("#txtGrupoPerfilLaboralNuevo").val(),r=$("#lstTipoHorarioPerfilLaboralNuevo").val(),i=0;$("#chkControlFaltasOmisionesPerfilLaboralNuevoNuevo").bootstrapSwitch("state")&&(i=1);var o=$("#txtObservacionPerfilLaboralNuevo").val();return""!=e&&0<r&&$.ajax({url:"/perfileslaborales/save/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:0,perfil_laboral:e,grupo:a,tipo_horario:r,control_f_o:i,observacion:o},success:function(e){var a=jQuery.parseJSON(e);$(".msjes").hide(),1==a.result?($("#divMsjePorSuccess").html(""),$("#divMsjePorSuccess").append(a.msj),$("#divMsjeNotificacionSuccess").jqxNotification("open"),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",0),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",1),$("#divGridPerfilesLaborales").jqxGrid("updatebounddata")):0==a.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(a.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(a.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){alert("Se ha producido un error Inesperado")}})}