function cargarGrillaTurnos(A,w,y,m,D){var a,e={datatype:"json",datafields:[{name:"nro_row",type:"integer"},{name:"id_perfillaboral",type:"integer"},{name:"perfil_laboral",type:"string"},{name:"grupo",type:"string"},{name:"gestion",type:"integer"},{name:"numero_mes",type:"integer"},{name:"mes",type:"string"},{name:"fecha_ini",type:"date"},{name:"fecha_fin",type:"date"},{name:"tipo_horario",type:"integer"},{name:"tipo_horario_descripcion",type:"string"},{name:"estado",type:"integer"},{name:"estado_descripcion",type:"string"},{name:"id_tolerancia",type:"integer"},{name:"tipo_tolerancia",type:"string"},{name:"id_jornada_laboral",type:"integer"},{name:"jornada_laboral",type:"string"}],url:"/perfileslaborales/listhistorialturnos?id="+A,cache:!1},r=new $.jqx.dataAdapter(e);a=prepareSimulator("grid"),$("#jqxgridturnos").jqxGrid({theme:a,width:"100%",height:"100%",source:r,sortable:!0,altRows:!0,groupable:!1,columnsresize:!0,pageable:!0,pagerMode:"advanced",showfilterrow:!0,filterable:!0,showtoolbar:!0,autorowheight:!0,rendertoolbar:function(a){var e=$("<div></div>");a.append(e),e.append("<button id='addrowbuttonturn' class='btn btn-sm btn-primary' type='button' title='Nuevo Calendario'><i class='fa fa-plus-square fa-2x text-info' title='Nuevo Registro.'/></i></button>"),e.append("<button id='updaterowbuttonturn' class='btn btn-sm btn-primary' type='button' title='Modificar Calendario'><i class='fa fa-pencil-square fa-2x text-info' title='Modificar registro.'/></button>"),e.append("<button id='approverowbuttonturn' class='btn btn-sm btn-primary' type='button' title='Aprobar Calendario'><i class='fa fa-check-square fa-2x text-info' title='Aprobar registro'></i></button>"),e.append("<button id='viewrowbuttonturn' class='btn btn-sm btn-primary' type='button' title='Vista Calendario'><i class='fa fa-calendar fa-2x text-info' title='Vista Calendarios Laborales por Perfil.'/></i></button>"),e.append("<button id='quotasrowbuttonturn' class='btn btn-sm btn-primary' type='button' title='Asignar cupos'><i class='fa fa fa-users fa-2x text-info' title='Asignar Cupos'></i></button>"),$("#addrowbuttonturn").jqxButton(),$("#updaterowbuttonturn").jqxButton(),$("#approverowbuttonturn").jqxButton(),$("#viewrowbuttonturn").jqxButton(),$("#quotasrowbuttonturn").jqxButton(),$("#addrowbuttonturn").off(),$("#addrowbuttonturn").on("click",function(){$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",0),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",1),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",2),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",3),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",4),$("#jqxTabsPerfilesLaborales").jqxTabs({selectedItem:4}),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",5),$("#ddPerfilLaboralCalendario").text(w),""!=y&&null!=y?$("#ddGrupoCalendario").text(y):$("#ddGrupoCalendario").html("&nbsp;"),$("#ddTipoHorarioCalendario").text(D),$("#dtRangoFechasCalendario").hide(),$("#ddRangoFechasCalendario").hide(),$("#spanPrefijoCalendarioLaboral").html("Nuevo "),$("#calendar").html("");var a=new Date,e=a.getDate(),r=a.getMonth(),o=a.getFullYear();$("#hdnIdPerfilLaboralParaCalendario").val(A),$("#hdnTipoHorarioParaCalendario").val(m);var i=obtenerFechaDeInicioProximo(A);if(0<i.length)e=i[0].dia,r=i[0].mes-1,o=i[0].gestion;else{var n=new Date,s=n.getMonth()+1,t=n.getFullYear();i.push({dia:1,mes:s,gestion:t}),r=s-(e=1),o=t}var l=[],d=[];if($("#hdnFechaIniParaCalendario").val(i[0].dia+"-"+i[0].mes+"-"+i[0].gestion),3==m){var c=obtenerUltimoDiaMes(i[0].dia+"-"+i[0].mes+"-"+i[0].gestion);$("#hdnFechaFinParaCalendario").val(c);var b=i[0].dia+"-"+i[0].mes+"-"+i[0].gestion,p=obtenerFechaMenosDias(b,10),u=obtenerFechaMenosDias(b,1);l=obtenerHorariosRegistradosEnCalendarioPorPerfil(A,m,!1,p,u);var h=obtenerFechaMasDias(c,1),f=obtenerFechaMasDias(c,10);d=obtenerHorariosRegistradosEnCalendarioPorPerfil(A,m,!1,h,f)}else $("#hdnFechaFinParaCalendario").val("00-00-0000");cargarHorariosDisponibles(obtenerHorariosDisponibles(m));var v=iniciarCalendarioLaboral(1,m,[],o,r,e);$("#calendar").fullCalendar("addEventSource",l),$("#calendar").fullCalendar("addEventSource",d),sumarTotalHorasPorSemana(v),cargarJornadasLaborales(1,0),$("#divLstTolerancias").hide(),$("#divDatosTolerancia").hide(),$("#divGrupoBotonesAprobacion").hide(),$("#divGrupoBotonesElaboracion").show(),$("#lstJornadasLaborales").off(),$("#lstJornadasLaborales").on("change",function(){sumarTotalHorasPorSemana(v)}),$("#divEstadoCalendario").html(""),$("#btnImprimirCalendario").hide(),$("#divArrastre").show(),$("#hdnIdPerfilLaboralParaCuposCalendario").val(0),$("#hdnTipoHorarioParaCuposCalendario").val(0),$("#hdnFechaIniParaCuposCalendario").val(0),$("#hdnFechaFinParaCuposCalendario").val(0)}),$("#updaterowbuttonturn").off(),$("#updaterowbuttonturn").on("click",function(){var a=$("#jqxgridturnos").jqxGrid("getselectedrowindex");if(0<=a){var e=$("#jqxgridturnos").jqxGrid("getrowdata",a);if(null!=e)if(1==e.estado){$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",0),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",1),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",2),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",3),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",4),$("#jqxTabsPerfilesLaborales").jqxTabs({selectedItem:4}),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",5),$("#ddPerfilLaboralCalendario").text(w),""!=y&&null!=y?$("#ddGrupoCalendario").text(y):$("#ddGrupoCalendario").html("&nbsp;"),$("#ddTipoHorarioCalendario").text(D),$("#dtRangoFechasCalendario").hide(),$("#ddRangoFechasCalendario").hide(),$("#spanPrefijoCalendarioLaboral").html("Modificaci&oacute;n "),$("#calendar").html("");var r=new Date,o=r.getDate(),i=r.getMonth(),n=r.getFullYear(),s=fechaConvertirAFormato(new Date,"-"),t=e.fecha_ini,l=(o=t.getDate(),i=t.getMonth(),o+"-"+(i+=1)+"-"+(n=t.getFullYear())),d=o,c=i-1,b=n;if(1==e.tipo_horario||2==e.tipo_horario){var p=fechaConvertirAFormato(e.fecha_fin,"-"),u="-";if(procesaTextoAFecha(l,u)<procesaTextoAFecha(s,u)&&procesaTextoAFecha(p,u)>procesaTextoAFecha(s,u)){var h=s.split("-");d=h[0],c=h[1]-1,b=h[2]}}p=fechaConvertirAFormato(e.fecha_fin,"-");var f=e.tipo_horario;$("#hdnTipoHorarioParaCalendario").val(f),$("#hdnIdPerfilLaboralParaCalendario").val(A);var v=[],m=[];if(3==f){var g=l.split("-"),x="01-"+g[1]+"-"+g[2];$("#hdnFechaIniParaCalendario").val(x);var j=obtenerUltimoDiaMes(x);$("#hdnFechaFinParaCalendario").val(j);var P=obtenerFechaMenosDias(x,10),C=obtenerFechaMenosDias(x,1);v=obtenerHorariosRegistradosEnCalendarioPorPerfil(A,f,!1,P,C);var T=obtenerFechaMasDias(j,1),q=obtenerFechaMasDias(j,10);m=obtenerHorariosRegistradosEnCalendarioPorPerfil(A,f,!1,T,q)}else $("#hdnFechaIniParaCalendario").val("00-00-0000"),$("#hdnFechaFinParaCalendario").val("00-00-0000");var F=obtenerHorariosRegistradosEnCalendarioPorPerfil(e.id_perfillaboral,f,!0,l,p);cargarHorariosDisponibles(obtenerHorariosDisponibles(f));var M=iniciarCalendarioLaboral(2,f,F,b,c,d);$("#calendar").fullCalendar("addEventSource",v),$("#calendar").fullCalendar("addEventSource",m),cargarJornadasLaborales(2,e.id_jornada_laboral),cargarTolerancias(2,e.id_tolerancia),sumarTotalHorasPorSemana(M,"inicio-modificacion"),$("#lstJornadasLaborales").off(),$("#lstJornadasLaborales").on("change",function(){sumarTotalHorasPorSemana(M)}),$("#divEstadoCalendario").html("");var _="Estado: ";switch(e.estado){case 0:_+="<span class='label label-primary'><i class='fa fa-thumbs-o-down'></i> "+e.estado_descripcion+"</span>";break;case 1:_+="<span class='label label-primary'><i class='fa fa-cogs'></i> "+e.estado_descripcion+"</span>";break;case 2:_+="<span class='label label-primary'><i class='hi hi-thumbs-up'></i> "+e.estado_descripcion+"</span>";break;case 3:_+="<span class='label label-success'><i class='gi gi-ok_2'></i> "+e.estado_descripcion+"</span>";break;case 4:_+="<span class='label label-primary'><i class='fa fa-lock'></i> "+e.estado_descripcion+"</span>"}0<=e.estado&&$("#divEstadoCalendario").html(_),$("#divLstTolerancias").hide(),$("#divDatosTolerancia").hide(),$("#divGrupoBotonesAprobacion").hide(),$("#divGrupoBotonesElaboracion").show()}else{var L="Debe seleccionar un registro en estado EN ELABORACI&Oacute;N para posibilitar la modificaci&oacute;n de los registros correspondientes.";$("#divMsjePorError").html(""),$("#divMsjePorError").append(L),$("#divMsjeNotificacionError").jqxNotification("open")}}else{L="Debe seleccionar un registro necesariamente.";$("#divMsjePorError").html(""),$("#divMsjePorError").append(L),$("#divMsjeNotificacionError").jqxNotification("open")}$("#btnImprimirCalendario").hide(),$("#divArrastre").show(),$("#hdnIdPerfilLaboralParaCuposCalendario").val(0),$("#hdnTipoHorarioParaCuposCalendario").val(0),$("#hdnFechaIniParaCuposCalendario").val(0),$("#hdnFechaFinParaCuposCalendario").val(0)}),$("#approverowbuttonturn").off(),$("#approverowbuttonturn").on("click",function(){var a=$("#jqxgridturnos").jqxGrid("getselectedrowindex");if(0<=a){var e=$("#jqxgridturnos").jqxGrid("getrowdata",a);if(null!=e){if(2==e.estado){$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",0),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",1),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",2),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",3),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",4),$("#jqxTabsPerfilesLaborales").jqxTabs({selectedItem:4}),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",5),$("#ddPerfilLaboralCalendario").text(w),""!=y&&null!=y?$("#ddGrupoCalendario").text(y):$("#ddGrupoCalendario").html("&nbsp;"),$("#ddTipoHorarioCalendario").text(D),$("#dtRangoFechasCalendario").hide(),$("#ddRangoFechasCalendario").hide(),$("#spanPrefijoCalendarioLaboral").html("Aprobaci&oacute;n "),$("#calendar").html("");var r=new Date,o=r.getDate(),i=r.getMonth(),n=r.getFullYear(),s=fechaConvertirAFormato(new Date,"-"),t=e.fecha_ini,l=(o=t.getDate(),i=t.getMonth(),o+"-"+(i+=1)+"-"+(n=t.getFullYear())),d=o,c=i-1,b=n;if(1==e.tipo_horario||2==e.tipo_horario){var p=s.split("-");d=p[0],c=p[1]-1,b=p[2]}var u=fechaConvertirAFormato(e.fecha_fin,"-"),h=e.tipo_horario;$("#hdnTipoHorarioParaCalendario").val(h),$("#hdnIdPerfilLaboralParaCalendario").val(A);var f=[],v=[];if(3==h){var m=l.split("-"),g="01-"+m[1]+"-"+m[2];$("#hdnFechaIniParaCalendario").val(g);var x=obtenerUltimoDiaMes(g);$("#hdnFechaFinParaCalendario").val(x);var j=obtenerFechaMenosDias(g,10),P=obtenerFechaMenosDias(g,1);f=obtenerHorariosRegistradosEnCalendarioPorPerfil(A,h,!1,j,P);var C=obtenerFechaMasDias(x,1),T=obtenerFechaMasDias(x,10);v=obtenerHorariosRegistradosEnCalendarioPorPerfil(A,h,!1,C,T)}else $("#hdnFechaIniParaCalendario").val("00-00-0000"),$("#hdnFechaFinParaCalendario").val("00-00-0000");var q=obtenerHorariosRegistradosEnCalendarioPorPerfil(e.id_perfillaboral,h,!0,l,u);cargarHorariosDisponibles(obtenerHorariosDisponibles(h));var F=iniciarCalendarioLaboral(3,h,q,b,c,d);$("#calendar").fullCalendar("addEventSource",f),$("#calendar").fullCalendar("addEventSource",v),cargarJornadasLaborales(3,e.id_jornada_laboral),cargarTolerancias(3,e.id_tolerancia),sumarTotalHorasPorSemana(F,"inicio-modificacion"),$("#lstJornadasLaborales").off(),$("#lstJornadasLaborales").on("change",function(){sumarTotalHorasPorSemana(F)}),$("#divEstadoCalendario").html("");var M="Estado: ";switch(e.estado){case 0:M+="<span class='label label-primary'><i class='fa fa-thumbs-o-down'></i> "+e.estado_descripcion+"</span>";break;case 1:M+="<span class='label label-primary'><i class='fa fa-cogs'></i> "+e.estado_descripcion+"</span>";break;case 2:M+="<span class='label label-primary'><i class='hi hi-thumbs-up'></i> "+e.estado_descripcion+"</span>";break;case 3:M+="<span class='label label-success'><i class='gi gi-ok_2'></i> "+e.estado_descripcion+"</span>";break;case 4:M+="<span class='label label-primary'><i class='fa fa-lock'></i> "+e.estado_descripcion+"</span>"}0<=e.estado&&$("#divEstadoCalendario").html(M)}else{var _="Debe seleccionar un registro en estado ELABORADO para posibilitar la APROBACI&Oacute;N de los registros correspondientes.";$("#divMsjePorError").html(""),$("#divMsjePorError").append(_),$("#divMsjeNotificacionError").jqxNotification("open")}$("#divLstTolerancias").show(),$("#divDatosTolerancia").show(),$("#divGrupoBotonesAprobacion").show(),$("#divGrupoBotonesElaboracion").hide()}}else{_="Debe seleccionar un registro necesariamente.";$("#divMsjePorError").html(""),$("#divMsjePorError").append(_),$("#divMsjeNotificacionError").jqxNotification("open")}$("#btnImprimirCalendario").hide(),$("#divArrastre").show(),$("#hdnIdPerfilLaboralParaCuposCalendario").val(0),$("#hdnTipoHorarioParaCuposCalendario").val(0),$("#hdnFechaIniParaCuposCalendario").val(0),$("#hdnFechaFinParaCuposCalendario").val(0)}),$("#viewrowbuttonturn").off(),$("#viewrowbuttonturn").on("click",function(){var a=$("#jqxgridturnos").jqxGrid("getselectedrowindex");if(0<=a){var e=$("#jqxgridturnos").jqxGrid("getrowdata",a);if(null!=e){if(1<=e.estado){$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",0),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",1),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",2),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",3),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",4),$("#jqxTabsPerfilesLaborales").jqxTabs({selectedItem:4}),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",5),$("#ddPerfilLaboralCalendario").text(w),""!=y&&null!=y?$("#ddGrupoCalendario").text(y):$("#ddGrupoCalendario").html("&nbsp;"),$("#ddTipoHorarioCalendario").text(D);var r=fechaConvertirAFormato(e.fecha_ini,"-"),o=fechaConvertirAFormato(e.fecha_fin,"-");$("#dtRangoFechasCalendario").show(),$("#ddRangoFechasCalendario").show(),$("#ddRangoFechasCalendario").text(r+" AL "+o),$("#spanPrefijoCalendarioLaboral").html("Vista "),$("#calendar").html("");var i=new Date,n=i.getDate(),s=i.getMonth(),t=i.getFullYear(),l=fechaConvertirAFormato(new Date,"-"),d=e.fecha_ini,c=(n=d.getDate(),s=d.getMonth(),n+"-"+(s+=1)+"-"+(t=d.getFullYear())),b=n,p=s-1,u=t;if(1==e.tipo_horario||2==e.tipo_horario){var h=l.split("-");b=h[0],p=h[1]-1,u=h[2]}var f=fechaConvertirAFormato(e.fecha_fin,"-"),v=e.tipo_horario;$("#hdnTipoHorarioParaCalendario").val(v),$("#hdnIdPerfilLaboralParaCalendario").val(A);var m=[],g=[];if(3==v){var x=c.split("-");r="01-"+x[1]+"-"+x[2];$("#hdnFechaIniParaCalendario").val(r);o=obtenerUltimoDiaMes(r);$("#hdnFechaFinParaCalendario").val(o);var j=obtenerFechaMenosDias(r,10),P=obtenerFechaMenosDias(r,1);m=obtenerHorariosRegistradosEnCalendarioPorPerfil(A,v,!1,j,P);var C=obtenerFechaMasDias(o,1),T=obtenerFechaMasDias(o,10);g=obtenerHorariosRegistradosEnCalendarioPorPerfil(A,v,!1,C,T)}else $("#hdnFechaIniParaCalendario").val("00-00-0000"),$("#hdnFechaFinParaCalendario").val("00-00-0000");var q=obtenerHorariosRegistradosEnCalendarioPorPerfil(e.id_perfillaboral,v,!1,c,f);cargarHorariosDisponibles(obtenerHorariosDisponibles(v));var F=iniciarCalendarioLaboral(5,v,q,u,p,b);$("#calendar").fullCalendar("addEventSource",m),$("#calendar").fullCalendar("addEventSource",g),cargarJornadasLaborales(5,e.id_jornada_laboral),cargarTolerancias(5,e.id_tolerancia),sumarTotalHorasPorSemana(F,"inicio-modificacion"),$("#lstJornadasLaborales").off(),$("#lstJornadasLaborales").on("change",function(){sumarTotalHorasPorSemana(F)}),$("#divEstadoCalendario").html("");var M="Estado: ";switch(e.estado){case 0:M+="<span class='label label-primary'><i class='fa fa-thumbs-o-down'></i> "+e.estado_descripcion+"</span>";break;case 1:M+="<span class='label label-primary'><i class='fa fa-cogs'></i> "+e.estado_descripcion+"</span>";break;case 2:M+="<span class='label label-primary'><i class='hi hi-thumbs-up'></i> "+e.estado_descripcion+"</span>";break;case 3:M+="<span class='label label-success'><i class='gi gi-ok_2'></i> "+e.estado_descripcion+"</span>";break;case 4:M+="<span class='label label-primary'><i class='fa fa-lock'></i> "+e.estado_descripcion+"</span>"}0<=e.estado&&$("#divEstadoCalendario").html(M)}else{var _="Debe seleccionar un registro en estado ELABORADO para posibilitar la APROBACI&Oacute;N de los registros correspondientes.";$("#divMsjePorError").html(""),$("#divMsjePorError").append(_),$("#divMsjeNotificacionError").jqxNotification("open")}$("#divLstTolerancias").show(),$("#divDatosTolerancia").show(),$("#divGrupoBotonesAprobacion").hide(),$("#divGrupoBotonesElaboracion").hide()}}else{_="Debe seleccionar un registro necesariamente.";$("#divMsjePorError").html(""),$("#divMsjePorError").append(_),$("#divMsjeNotificacionError").jqxNotification("open")}$("#btnImprimirCalendario").show(),$("#divArrastre").hide(),$("#hdnIdPerfilLaboralParaCuposCalendario").val(0),$("#hdnTipoHorarioParaCuposCalendario").val(0),$("#hdnFechaIniParaCuposCalendario").val(0),$("#hdnFechaFinParaCuposCalendario").val(0)}),$("#quotasrowbuttonturn").off(),$("#quotasrowbuttonturn").on("click",function(){var a=$("#jqxgridturnos").jqxGrid("getselectedrowindex");if(0<=a){$("#spanPrefijoCalendarioLaboral").html("Cupos por ");var e=$("#jqxgridturnos").jqxGrid("getrowdata",a);if(null!=e)if(3==e.estado){$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",0),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",1),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",2),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",3),$("#jqxTabsPerfilesLaborales").jqxTabs("disableAt",4),$("#jqxTabsPerfilesLaborales").jqxTabs("enableAt",5),$("#jqxTabsPerfilesLaborales").jqxTabs({selectedItem:5}),$("#spanPrefijoCuposCalendarioLaboral").html("Cupos por "),$("#ddPerfilLaboralCupos").text(w),""!=y&&null!=y?$("#ddGrupoCupos").text(y):$("#ddGrupoCupos").html("&nbsp;"),$("#ddTipoHorarioCupos").text(D);var r=fechaConvertirAFormato(e.fecha_ini,"-"),o=fechaConvertirAFormato(e.fecha_fin,"-");$("#ddRangoFechas").text(r+" AL "+o),$("#calendar").html(""),cargarCupos(0,A,r,o),$("#hdnIdPerfilLaboralParaCuposCalendario").val(e.id_perfillaboral),$("#hdnTipoHorarioParaCuposCalendario").val(e.tipo_horario),$("#hdnFechaIniParaCuposCalendario").val(e.fecha_ini),$("#hdnFechaFinParaCuposCalendario").val(e.fecha_fin)}else $("#divMsjePorError").html(""),$("#divMsjePorError").append("Debe seleccionar un registro en estado APROBADO para posibilitar la asignaci&oacute;n de cupos correspondientes."),$("#divMsjeNotificacionError").jqxNotification("open")}})},columns:[{text:"Nro.",sortable:!1,filterable:!1,editable:!1,groupable:!1,draggable:!1,resizable:!1,columntype:"number",width:50,cellsalign:"center",align:"center",cellsrenderer:rownumberrenderer},{text:"Fecha Inicio",datafield:"fecha_ini",filtertype:"range",width:90,cellsalign:"center",cellsformat:"dd-MM-yyyy",align:"center"},{text:"Fecha Fin",datafield:"fecha_fin",filtertype:"range",width:90,cellsalign:"center",cellsformat:"dd-MM-yyyy",align:"center"},{text:"Estado",columntype:"checkedlist",datafield:"estado_descripcion",width:130,cellsalign:"center",align:"center"},{text:"Jornada Laboral",filtertype:"checkedlist",datafield:"jornada_laboral",width:150,cellsalign:"center",align:"center"},{text:"Tipo Tolerancia",filtertype:"checkedlist",datafield:"tipo_tolerancia",width:400,cellsalign:"center",align:"center"}]})}function validaFormularioPorRegistroCalendarioLaboral(){return!0}function limpiarMensajesErrorPorValidacionCalendarioLaboral(){}function guardarRegistroCalendarioLaboral(){var r=!1,a=$("#hdnIdRelaboralPorMovilidad").val(),e=$("#hdnIdRelaboralMovilidadModificar").val(),o=0,i=0,n=0,s=0,t=0;$("#chkAi").is(":checked")&&(t=1);var l=$("#lstTipoMemorandum").val().split("-"),d=l[0],c=l[1],b=(l[2],l[3],l[4],l[5],$("#txtCorrelativoMemorandum").val()),p=$("#lstGestionMemorandum").val(),u=$("#txtFechaMem").jqxDateTimeInput("getText"),h=$("#lstGerenciasAdministrativasMovilidad").val(),f=$("#lstDepartamentosAdministrativosMovilidad").val(),v=(s=$("#lstAreasAdministrativasMovilidad").val(),n=$("#lstUbicacionesMovilidad").val(),$("#txtCargoMovilidad").val());"object"==jQuery.type(v)&&(v=String(v.label)),""!=(v+="")&&1==t?v.indexOf("a.i.")<0&&(v+=" a.i."):""!=v&&0==t&&0<v.indexOf("a.i.")&&v.replace("a.i.","");var m=$("#txtMotivoMovilidad").val(),g=$("#lstPaisesMovilidad").val(),x=$("#lstCiudadesMovilidad").val(),j=$("#txtLugarMovilidad").val(),P=$("#txtFechaIniMovilidad").jqxDateTimeInput("getText"),C=$("#txtHoraIniMovilidad").val(),T=$("#txtFechaFinMovilidad").jqxDateTimeInput("getText"),q=$("#txtHoraFinMovilidad").val(),F=$("#txtObservacionMovilidad").val();return g=parseInt(g),x=parseInt(x),isNaN(g)&&(g=0),isNaN(x)&&(x=0),h=parseInt(h),f=parseInt(f),s=parseInt(s),n=parseInt(n),null!=h&&null!=h&&(isNaN(h)||(i=h),isNaN(f)||(i=f)),0==i&&0<$("#hdnIdOrganigramaPorSeleccionCargoSuperior").val()&&(i=$("#hdnIdOrganigramaPorSeleccionCargoSuperior").val()),isNaN(s)&&(s=0),isNaN(n)?n=0<$("#hdnIdOrganigramaPorSeleccionCargoSuperior").val()?-1:0:n=n,0<e&&(o=$("#hdnIdMemorandumMovilidadModificar").val()),0==c&&(T=""),0<a&&0<d&&""!=b&&0<p&&""!=u&&""!=P&&$.ajax({url:"/relaborales/savemovilidad/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:e,id_relaboral:a,id_da:0,id_regional:0,id_organigrama:i,id_area:s,id_ubicacion:n,cargo:v,id_evento:0,motivo:m,id_pais:g,id_departamento:x,lugar:j,id_memorandum:o,id_tipomemorandum:d,correlativo:b,gestion:p,fecha_mem:u,contenido:"",fecha_ini:P,hora_ini:C,fecha_fin:T,hora_fin:q,observacion:F},success:function(a){var e=jQuery.parseJSON(a);$(".msjes").hide(),1==e.result?(r=!0,$("#jqxgridmovilidad").jqxGrid("updatebounddata"),$("#divMsjePorSuccess").html(""),$("#divMsjePorSuccess").append(e.msj),$("#divMsjeNotificacionSuccess").jqxNotification("open"),$("#jqxgrid").jqxGrid("beginupdate")):0==e.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(e.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(e.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),r}function obtenerFechaDeInicioProximo(a){var r=[];return $.ajax({url:"/perfileslaborales/getfechainiproximo/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:a},success:function(a){var e=jQuery.parseJSON(a);0<e.length&&$.each(e,function(a,e){r.push({dia:e.dia,mes:e.mes,gestion:e.gestion})})}}),r}function obtenerUltimoDiaMes(a){return $.ajax({url:"/perfileslaborales/getultimafechames/",type:"POST",datatype:"json",async:!1,cache:!1,data:{fecha:a},success:function(a){}}).responseText}function obtenerFechaMenosDias(a,e){var r=a;return 0<e&&(r=$.ajax({url:"/perfileslaborales/getfechamenosdias/",type:"POST",datatype:"json",async:!1,cache:!1,data:{fecha:a,dias:e},success:function(a){}}).responseText),r}function obtenerFechaMasDias(a,e){var r=a;return 0<e&&(r=$.ajax({url:"/perfileslaborales/getfechamasdias/",type:"POST",datatype:"json",async:!1,cache:!1,data:{fecha:a,dias:e},success:function(a){}}).responseText),r}