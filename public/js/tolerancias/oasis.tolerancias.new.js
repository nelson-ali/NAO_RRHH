function cargarTiposDeAcumulacion(r){var i="";$("#lstAcumulacion").html(""),$.ajax({url:"/tolerancias/listtiposacumulaciones/",type:"POST",datatype:"json",async:!1,success:function(a){var o=jQuery.parseJSON(a);0<o.length&&($("#lstAcumulacion").append("<option value='0'>Seleccionar..</option>"),$.each(o,function(a,o){i=r==o.tipo_acumulacion?"selected":"",$("#lstAcumulacion").append("<option value='"+o.tipo_acumulacion+"' "+i+">"+o.tipo_acumulacion_descripcion+"</option>")}))},error:function(){alert("Se ha producido un error Inesperado")}})}function cargarOpcionesDeConsideracionEnRetraso(r){var i="";$("#lstConsideracionRetraso").html(""),$.ajax({url:"/tolerancias/listconsideracionretraso/",type:"POST",datatype:"json",async:!1,success:function(a){var o=jQuery.parseJSON(a);0<o.length&&($("#lstConsideracionRetraso").append("<option value='0'>Seleccionar..</option>"),$.each(o,function(a,o){i=r==o.tipo_acumulacion?"selected":"",$("#lstConsideracionRetraso").append("<option value='"+o.consideracion_retraso+"' "+i+">"+o.consideracion_retraso_descripcion+"</option>")}))},error:function(){alert("Se ha producido un error Inesperado")}})}function validaFormularioTolerancia(){var a=!0,o="";$(".msjs-alert").hide();var r="";0<$("#hdnIdHorarioLaboralEditar").val()&&(r="Editar"),limpiarMensajesErrorPorValidacionHorario(r);var i=null,n=$("#txtNombreHorario"+r).val(),e=($("#txtNombreAlternativoHorario"+r).val(),$("#txtColorHorario"+r).val()),l=$("#txtHoraEntHorario"+r).val(),t=$("#txtHoraSalHorario"+r).val(),c=$("#txtHoraInicioRangoEnt"+r).val(),s=$("#txtHoraFinalizacionRangoEnt"+r).val(),d=$("#txtHoraInicioRangoSal"+r).val(),u=$("#txtHoraFinalizacionRangoSal"+r).val(),v=$("#divNombreHorario"+r),h=$("#helpErrorNombreHorario"+r),H=$("#txtNombreHorario"+r),p=$("#divColorHorario"+r),m=$("#helpErrorColorHorario"+r),E=$("#txtColorHorario"+r),g=$("#divHoraEntHorario"+r),x=$("#helpErrorHoraEntHorario"+r),f=$("#txtHoraEntHorarioEditar"+r),S=$("#divHoraSalHorario"+r),R=$("#helpErrorHoraSalHorario"+r),j=$("#txtHoraSalHorario"+r),b=$("#divHoraInicioRangoEnt"+r),C=$("#helpErrorHoraInicioRangoEnt"+r),F=$("#txtHoraInicioRangoEnt"+r),_=$("#divHoraFinalizacionRangoEnt"+r),N=$("#helpErrorHoraFinalizacionRangoEnt"+r),I=$("#txtHoraFinalizacionRangoEnt"+r),z=$("#divHoraInicioRangoSal"+r),M=$("#helpErrorHoraInicioRangoSal"+r),P=$("#txtHoraInicioRangoSal"+r),y=$("#divHoraFinalizacionRangoSal"+r),D=$("#helpErrorHoraFinalizacionRangoSal"+r),O=$("#txtHoraFinalizacionRangoSal"+r);if(""==n){a=!1;o="Debe introducir un nombre para el horario necesariamente.";v.addClass("has-error"),h.html(o),null==i&&(i=H)}if(""==e){a=!1;o="Debe seleccionar un color para el horario necesariamente.";p.addClass("has-error"),m.html(o),null==i&&(i=E)}if("#FFFFFF"==e){a=!1;o="Seleccion&oacute; el color blanco para el horario, debe seleccionar un color diferente necesariamente.";p.addClass("has-error"),m.html(o),null==i&&(i=E)}if(""==l){a=!1;o="Debe seleccionar una hora de entrada necesariamente.";g.addClass("has-error"),x.html(o),null==i&&(i=f)}if(""==t){a=!1;o="Debe seleccionar una hora de salida necesariamente.";S.addClass("has-error"),R.html(o),null==i&&(i=j)}if(""==c){a=!1;o="Debe introducir la hora de inicio del rango de marcaci&oacute;n para la entrada.";b.addClass("has-error"),C.html(o),null==i&&(i=F)}if(""==s){a=!1;o="Debe introducir la hora de finalizaci&oacute;n del rango de marcaci&oacute;n para la entrada.";_.addClass("has-error"),N.html(o),null==i&&(i=I)}if(""==d){a=!1;o="Debe introducir la hora de inicio del rango de marcaci&oacute;n para la salida.";z.addClass("has-error"),M.html(o),null==i&&(i=P)}if(""==u){a=!1;o="Debe introducir la hora de finalizaci&oacute;n del rango de marcaci&oacute;n para la salida.";y.addClass("has-error"),D.html(o),null==i&&(i=O)}return null!=i&&i.focus(),a}function limpiarMensajesErrorPorValidacionHorario(a){$("#divNombreHorario"+a).removeClass("has-error"),$("#helpErrorNombreHorario"+a).html(""),$("#divColorHorario"+a).removeClass("has-error"),$("#helpErrorColorHorario"+a).html(""),$("#divHoraEntHorario"+a).removeClass("has-error"),$("#helpErrorHoraEntHorario"+a).html(""),$("#divHoraSalHorario"+a).removeClass("has-error"),$("#helpErrorHoraSalHorario"+a).html(""),$("#divHoraInicioRangoEnt"+a).removeClass("has-error"),$("#helpErrorHoraInicioRangoEnt"+a).html(""),$("#divHoraFinalizacionRangoEnt"+a).removeClass("has-error"),$("#helpErrorHoraFinalizacionRangoEnt"+a).html(""),$("#divHoraInicioRangoSal"+a).removeClass("has-error"),$("#helpErrorHoraInicioRangoSal"+a).html(""),$("#divHoraFinalizacionRangoSal"+a).removeClass("has-error"),$("#helpErrorHoraFinalizacionRangoSal"+a).html("")}function guardaTolerancia(){var r=!0,a=$("#hdnIdHorarioLaboralEditar").val(),o="";0<a&&(o="Editar");var i=$("#txtNombreHorario"+o).val(),n=$("#txtNombreAlternativoHorario"+o).val(),e=$("#txtColorHorario"+o).val(),l=$("#txtHoraEntHorario"+o).val(),t=$("#txtHoraSalHorario"+o).val(),c=$("#txtHoraInicioRangoEnt"+o).val(),s=$("#txtHoraFinalizacionRangoEnt"+o).val(),d=$("#txtHoraInicioRangoSal"+o).val(),u=$("#txtHoraFinalizacionRangoSal"+o).val(),v=$("#txtObservacion"+o).val();return""!=i&&""!=e&&$.ajax({url:"/horarioslaborales/save/",type:"POST",datatype:"json",async:!1,cache:!1,data:{id:a,nombre:i,nombre_alternativo:n,color:e,hora_entrada:l,hora_salida:t,rango_entrada:1,rango_salida:1,hora_inicio_rango_ent:c,hora_final_rango_ent:s,hora_inicio_rango_sal:d,hora_final_rango_sal:u,fecha_ini:"01-01-2014",fecha_fin:"31-12-2020",observacion:v},success:function(a){var o=jQuery.parseJSON(a);$(".msjes").hide(),1==o.result?(r=!0,$("#divMsjePorSuccess").html(""),$("#divMsjePorSuccess").append(o.msj),$("#divMsjeNotificacionSuccess").jqxNotification("open"),$("#jqxgridhorarios").jqxGrid("updatebounddata")):0==o.result?($("#divMsjePorWarning").html(""),$("#divMsjePorWarning").append(o.msj),$("#divMsjeNotificacionWarning").jqxNotification("open")):($("#divMsjePorError").html(""),$("#divMsjePorError").append(o.msj),$("#divMsjeNotificacionError").jqxNotification("open"))},error:function(){$("#divMsjePorError").html(""),$("#divMsjePorError").append("Se ha producido un error Inesperado"),$("#divMsjeNotificacionError").jqxNotification("open")}}),r}function inicializarCamposParaNuevoRegistro(){$("#hdnIdHorarioLaboralEditar").val(0),$("#txtNombreHorario").val(""),$("#txtNombreAlternativoHorario").val(""),$("#txtColorHorario").val("#FFFFFF"),$("#txtColorHorario").css({background:"white",color:"white"}),$("#txtHoraEntHorario").val(""),$("#txtHoraSalHorario").val(""),$("#txtHoraInicioRangoEnt").val(""),$("#txtHoraFinalizacionRangoEnt").val(""),$("#txtHoraInicioRangoSal").val(""),$("#txtHoraFinalizacionRangoSal").val(""),$("#txtObservacion").val("")}